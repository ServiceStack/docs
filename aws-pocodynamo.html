<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PocoDynamo | Documentation</title>
    <meta name="description" content="ServiceStack Docs">
    <link rel="stylesheet" href="/assets/style.bef5b3ab.css">
    <link rel="modulepreload" href="/assets/chunks/TypeSenseDialog.ac1ee19c.js">
    <link rel="modulepreload" href="/assets/chunks/KeyboardEvents.a63c3c18.js">
    <link rel="modulepreload" href="/assets/app.6d7ef002.js">
    <link rel="modulepreload" href="/assets/aws-pocodynamo.md.e6db1859.lean.js">
    
    <script src="/custom.js"></script>
  <script type="module" src="/custom.mjs"></script>
  <meta name="twitter:title" content="PocoDynamo | Documentation">
  <meta property="og:title" content="PocoDynamo | Documentation">
  </head>
  <body>
    <div id="app"><div><!----><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Documentation, back to home" data-v-675d8756 data-v-cc01ef16><!----> Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue/" data-v-b8818f8c>Vue <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/locode/" data-v-b8818f8c>Locode <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/ormlite/" data-v-b8818f8c>OrmLite <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/redis/" data-v-b8818f8c>Redis <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><button class="flex rounded-full p-0 bg-gray-100 border-solid border-gray-100 text-gray-400 cursor-pointer hover:border-green-400 hover:bg-white hover:text-gray-600"><svg class="w-7 h-7 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-lg mr-1">Search</span><span style="opacity:1;" class="hidden sm:block text-gray-400 text-sm leading-5 py-0 px-1.5 my-0.5 mr-1.5 border border-gray-300 border-solid rounded-md"><span class="sr-only">Press </span><kbd class="font-sans">/</kbd><span class="sr-only"> to search</span></span></button><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue/" data-v-b8818f8c>Vue <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/locode/" data-v-b8818f8c>Locode <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/ormlite/" data-v-b8818f8c>OrmLite <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/redis/" data-v-b8818f8c>Redis <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Overview</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/why-servicestack">Why ServiceStack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture-overview">Architecture Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicify">Servicify existing Systems</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/explore-servicestack">Explore ServiceStack</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Releases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/v6_6">Latest Release Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/release-notes-history">Release Notes History</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/myget">Pre-release MyGet Packages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Getting Started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/create-your-first-webservice">Create your first WebService</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/your-first-webservice-explained">Your first WebService explained</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-design">Service API Design</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-return-types">Service Return Types</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-rest-services">Design RESTful Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-message-based-apis">Design Message-based APIs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modular-startup">Modular Startup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/navigation">Unified Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dotnet-tool">dotnet tool - Win/Mac/Linux Utility Belt</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-windows-desktop">app tool - .NET Core Windows Desktop</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-tool">mix tool - Mix n&#39; Match .NET Apps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/post-command">Post Command - Inspect/Call HTTP APIs</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Background Concepts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/what-is-a-message-based-web-service">What is a Message-based Web Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advantages-of-message-based-web-services">Advantages of message-based Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/why-remote-services-use-dtos">Why Remote Services should use DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-complexity-and-dto-roles">Complexity, Services and Role of DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-first-development">API First Development</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">UIs</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/api-explorer">API Explorer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/locode/">Locode</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui">Admin UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-users">Admin Manage Users UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-redis">Admin Redis</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-database">Admin Database</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-validation">Admin DB Validation UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-profiling">Admin Logging &amp; Profiling UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-features">Admin UI Features</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/host-configuration">AppHost</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ioc">IOC</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/routing">Routing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/order-of-operations">Order of Operations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-http-responses">Customize HTTP Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-json-responses">Customize JSON Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/appsettings">Configuration &amp; AppSettings</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/metadata-page">Metadata Pages</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/svg">SVG Support</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/endpoints">REST, SOAP &amp; default endpoints</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/soap-support">SOAP support</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Error Handling</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/error-handling">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/validation">Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/world-validation">World Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/declarative-validation">Declarative Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/debugging">Debugging</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Service Gateway</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/service-gateway">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-discovery">Service Discovery</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Clients</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/clients-overview">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-client">C#/.NET Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference#typescript-serviceclient">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#jsonserviceclient-api">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference#swift-client-usage">Swift Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference#example-usage">Dart Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/silverlight-client">Silverlight Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging#mq-client-architecture">MQ Clients</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Add ServiceStack Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/add-servicestack-reference">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-add-servicestack-reference">C# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference">TypeScript Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-add-servicestack-reference">JavaScript Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/python-add-servicestack-reference">Python Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference">Swift Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference">Java Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/kotlin-add-servicestack-reference">Kotlin Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference">Dart Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp-add-servicestack-reference">F# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet-add-servicestack-reference">VB.NET Add Reference</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Server Events</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-server-events-client">C# Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-server-events-client">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-server-events-client">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-server-events-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events-grpc">gRPC Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-server-events">Redis Server Events</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">MQ Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/background-mq">Background MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/rabbit-mq">Rabbit MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-mq">Redis MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/amazon-sqs-mq">Amazon SQS MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/azure-service-bus-mq">Azure Service Bus MQ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Jupyter Notebooks</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-python">Python Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-csharp">C# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-fsharp">F# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-reporting">Jupyter Reporting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">GitHub Action Templates</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/github-action-templates">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/do-github-action-mix-deployment">GitHub GHR &amp; Digital Ocean</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-github-actions-aws-ecs">AWS ECR &amp; ECS with NGINX</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Encrypted Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/encrypted-messaging">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Advanced</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/logging">Logging</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-and-response-filters">Request &amp; Response filters</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/filter-attributes">Filter attributes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/access-http-specific-features-in-services">Access HTTP features in services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/serialization-deserialization">Serialization &amp; Deserialization</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-mapping">Auto-Mapping</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-batched-requests">Auto Batched Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/virtual-file-system">Virtual File System</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/multitenancy">Multitenancy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/physical-project-structure">Physical Project Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modularizing-services">Modularizing Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/built-in-profiling">Built-in profiling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/hot-reloading">Hot Reloading</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html-css-and-javascript-minification">HTML, CSS and JS Minifiers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mvc-integration">MVC Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-integration">ServiceStack Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-side-by-side-with-another-web-framework">Run side-by-side with another fx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/versioning">Versioning</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config-api">Config API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/concurrency-model">Concurrency Model</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/form-hijacking-prevention">Form Hijacking Prevention</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/create-webservice-from-scratch">Create a WebService from scratch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/app-tasks">App Tasks</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Formats</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/formats">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/json-format">JSON Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jsv-format">JSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csv-format">CSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messagepack-format">MessagePack Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/protobuf-format">ProtoBuf Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html5reportformat">HTML5 Report Format</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">.NET Core</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-redis">.NET Core Redis</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-localhost-cert">Configure localhost dev cert</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-to-amazon-linux-2-ami">Deploy to Amazon Linux 2 AMI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-docker-aws-ecs">Deploy .NET Core Apps to AWS ECS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-deploy-rsync">Deploy .NET Core Apps using rsync</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Utils</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/http-utils">HTTP Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dump-utils">Dump Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/reflection-utils">Reflection Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js-utils">JS Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/adhoc-utils">Adhoc Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-ioc">Simple IOC</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Caching</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/caching">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http-caching">HTTP Caching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cacheresponse-attribute">CacheResponse Attribute</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cache-aware-clients">Cache Aware Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compression">Compression</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Plugins</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/plugins">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/openapi">Open API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui-users">User Admin Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/corsfeature">CORS Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/proxy-feature">Proxy Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-logger">Request logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/lisp-tcp-repl-server">Lisp TCP REPL Server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/postman">Postman</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/sitemaps">Sitemaps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cancellable-requests">Cancellable Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webhooks">Webhooks</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">View Engines</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-razor">ServiceStack Razor</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-ui-controls">Razor UI Controls</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-notes">Razor Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/view-and-template-selection">View and Template Selection</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compiled-razor-views">Compiled Razor Views</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-views-vs-content-pages">Razor Views vs Content Pages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript Web Apps</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-components">Vue Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-client-umd">Embedded UMD @servicestack/client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ss-utils-js">ss-utils.js JavaScript Client Library</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Hosts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iis">IIS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/self-hosting">Self-hosting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Tests</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/testing">Testing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/howto-write-unit-integration-tests">HowTo write unit &amp; integration tests</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Blazor</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/templates-blazor-tailwind">Blazor WASM Tailwind</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/templates-blazor-server">Blazor Server Tailwind</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/templates-blazor">Blazor WASM Bootstrap</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/templates-blazor-components">Blazor Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blazor-diffusion">Blazor Diffusion</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/locode/files-blazor">File Blazor Demo</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Java</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/java">Java ServiceStack Resources</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#servicestack-idea-android-studio-plugin">Android Studio &amp; IntelliJ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Other Languages</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/swift">Swift</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp">F#</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet">VB.NET</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Deployment</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-multiple-sites-to-aws">Deploy Multiple Sites to single AWS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-deployments-to-aws">Simple Deployments with WebDeploy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advanced-deployment-octopus-deploy">Deployments with OctopusDeploy</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Amazon Web Services</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/aws">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/aws-pocodynamo">PocoDynamo</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#first-class-support-for-reusable-code-first-pocos">First class support for reusable, code-first POCOs</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#autoquery-dynamodb">AutoQuery DynamoDB</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#quick-preview">Quick Preview</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#features">Features</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#download">Download</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#source-code">Source Code</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#download-local-dynamodb">Download Local DynamoDB</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#usage">Usage</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#creating-a-table-with-pocodynamo">Creating a Table with PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#complete-pocodynamo-todo-example">Complete PocoDynamo TODO example</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#creating-a-dynamodb-table-using-amazondynamodbclient">Creating a DynamoDB Table using AmazonDynamoDBClient</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#managed-dynamodb-client">Managed DynamoDB Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#autoincrement-primary-keys">AutoIncrement Primary Keys</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#putting-items-with-pocodynamo">Putting items with PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#putting-items-with-amazondynamodbclient">Putting items with AmazonDynamoDBClient</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#getting-items-with-pocodynamo">Getting Items with PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#getting-items-with-awssdk">Getting Items with AWSSDK</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#deleting-an-item-with-pocodynamo">Deleting an Item with PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#deleting-an-item-with-awssdk">Deleting an Item with AWSSDK</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#updating-an-item-with-pocodynamo">Updating an Item with PocoDynamo</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#update-with-conditional-expressions">Update with Conditional Expressions</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#querying">Querying</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#queryexpressions-are-queryrequests">QueryExpressions are QueryRequests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#query-usage">Query Usage</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#executing-queries">Executing Queries</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#scan-operations">Scan Operations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#related-items">Related Items</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#related-data">Related Data</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#related-tables">Related Tables</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#querying-related-tables">Querying Related Tables</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#local-secondary-indexes">Local Secondary Indexes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#typed-local-indexes">Typed Local Indexes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#global-secondary-indexes">Global Secondary Indexes</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#scan-requests">Scan Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#query-and-scan-expressions">Query and Scan Expressions</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#custom-filter-expressions">Custom Filter Expressions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#custom-select-projections">Custom Select Projections</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#advanced-linq-expressions">Advanced LINQ Expressions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#defaults-and-custom-behavior">Defaults and Custom Behavior</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#table-definition">Table definition</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#specifying-a-hash-key">Specifying a Hash Key</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#specifying-a-range-key">Specifying a Range Key</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#examples">Examples</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#dynamodbcacheclient">DynamoDbCacheClient</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#dynamodbauthrepository">DynamoDbAuthRepository</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#dynamodbtests">DynamoDbTests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#aws-apps">AWS Apps</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#ipococlient-api">IPocoClient API</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#pocodynamo-extension-helpers">PocoDynamo Extension helpers</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-getting-started">Getting Started with AWS</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Azure</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/azure">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Stripe</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/stripe">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Install 3rd Party Products</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/install-redis-windows">Redis on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/install-rabbitmq-windows">RabbitMQ on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ssl-redis-azure">Redis SSL on Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Performance</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/real-world-performance">Real world performance</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Future</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/roadmap">Roadmap</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--[--><!----><!--]--><!--[--><h1>PocoDynamo</h1><!--]--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>is a highly productive, feature-rich, typed .NET client which extends <a href="http://stackoverflow.com/a/32940275/85785" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s Simple POCO life</a> by enabling re-use of your code-first data models with Amazon&#39;s industrial strength and highly-scalable NoSQL <a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">DynamoDB</a>.</p><h2 id="first-class-support-for-reusable-code-first-pocos" tabindex="-1">First class support for reusable, code-first POCOs <a class="header-anchor" href="#first-class-support-for-reusable-code-first-pocos" aria-hidden="true">#</a></h2><p>PocoDynamo is conceptually similar to ServiceStack&#39;s other code-first <a href="https://github.com/ServiceStack/ServiceStack.OrmLite" target="_blank" rel="noopener noreferrer">OrmLite</a> and <a href="https://github.com/ServiceStack/ServiceStack.Redis" target="_blank" rel="noopener noreferrer">Redis</a> clients by providing a high-fidelity, managed client that enhances AWSSDK&#39;s low-level <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/UsingAWSsdkForDotNet.html" target="_blank" rel="noopener noreferrer">IAmazonDynamoDB client</a>, with rich, native support for intuitively mapping your re-usable code-first POCO Data models into <a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Types.html" target="_blank" rel="noopener noreferrer">DynamoDB Data Types</a>.</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/related-customer.png" alt=""></p><h3 id="autoquery-dynamodb" tabindex="-1"><a href="/aws-pocodynamo">AutoQuery DynamoDB</a> <a class="header-anchor" href="#autoquery-dynamodb" aria-hidden="true">#</a></h3><p>Built on top of PocoDynamo, <a href="/autoquery-data">AutoQuery Data&#39;s</a> <code>DynamoDbSource</code> provides the most productive development experience for effortlessly creating rich, queryable and optimized Services for DynamoDB data stores using only a typed Request DTO.</p><h3 id="quick-preview" tabindex="-1">Quick Preview <a class="header-anchor" href="#quick-preview" aria-hidden="true">#</a></h3><p>A quick CRUD preview of <strong>PocoDynamo</strong> feature-rich high-level Typed client:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Amazon</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Amazon<span class="token punctuation">.</span>DynamoDBv2</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">ServiceStack</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">ServiceStack<span class="token punctuation">.</span>Text</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">ServiceStack<span class="token punctuation">.</span>Aws<span class="token punctuation">.</span>DynamoDb</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">ServiceStack<span class="token punctuation">.</span>DataAnnotations</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> awsDb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBClient</span><span class="token punctuation">(</span><span class="token string">&quot;keyId&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBConfig</span> <span class="token punctuation">{</span> ServiceURL<span class="token operator">=</span><span class="token string">&quot;http://localhost:8000&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Todo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Content <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Order <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> Done <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeleteTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Delete existing Todo Table (if any)</span>
db<span class="token punctuation">.</span><span class="token function">InitSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// Creates Todo DynamoDB Table</span>

<span class="token class-name"><span class="token keyword">var</span></span> newTodo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Todo</span> <span class="token punctuation">{</span>
    Content <span class="token operator">=</span> <span class="token string">&quot;Learn PocoDynamo&quot;</span><span class="token punctuation">,</span>
    Order <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">PutItem</span><span class="token punctuation">(</span>newTodo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> savedTodo <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>newTodo<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&quot;Saved Todo: {0}&quot;</span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>savedTodo<span class="token punctuation">.</span><span class="token function">Dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

savedTodo<span class="token punctuation">.</span>Done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">PutItem</span><span class="token punctuation">(</span>savedTodo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> updatedTodo <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>newTodo<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&quot;Updated Todo: {0}&quot;</span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>updatedTodo<span class="token punctuation">.</span><span class="token function">Dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeleteItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>newTodo<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> remainingTodos <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&quot;No more Todos: {0}&quot;</span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>remainingTodos<span class="token punctuation">.</span><span class="token function">Dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-hidden="true">#</a></h2><h4 id="advanced-idiomatic-net-client" tabindex="-1">Advanced idiomatic .NET client <a class="header-anchor" href="#advanced-idiomatic-net-client" aria-hidden="true">#</a></h4><p>PocoDynamo provides an idiomatic API that leverages .NET advanced language features with streaming API&#39;s returning <code>IEnumerable&lt;T&gt;</code> lazily evaluated responses that transparently performs multi-paged requests behind-the-scenes whilst the resultset is iterated. It high-level API&#39;s provides a clean lightweight adapter to transparently map between .NET built-in data types and DynamoDB&#39;s low-level attribute values. Its efficient batched API&#39;s take advantage of DynamoDB&#39;s <code>BatchWriteItem</code> and <code>BatchGetItem</code> batch operations to perform the minimum number of requests required to implement each API.</p><h4 id="typed-linq-provider-for-query-and-scan-operations" tabindex="-1">Typed, LINQ provider for Query and Scan Operations <a class="header-anchor" href="#typed-linq-provider-for-query-and-scan-operations" aria-hidden="true">#</a></h4><p>PocoDynamo also provides rich, typed LINQ-like querying support for constructing DynamoDB Query and Scan operations, dramatically reducing the effort to query DynamoDB, enhancing readability whilst benefiting from Type safety in .NET.</p><h4 id="declarative-tables-and-indexes" tabindex="-1">Declarative Tables and Indexes <a class="header-anchor" href="#declarative-tables-and-indexes" aria-hidden="true">#</a></h4><p>Behind the scenes DynamoDB is built on a dynamic schema which whilst open and flexible, can be cumbersome to work with directly in typed languages like C#. PocoDynamo bridges the gap and lets your app bind to impl-free and declarative POCO data models that provide an ideal high-level abstraction for your business logic, hiding a lot of the complexity of working with DynamoDB - dramatically reducing the code and effort required whilst increasing the readability and maintainability of your Apps business logic.</p><p>It includes optimal support for defining simple local indexes which only require declaratively annotating properties to index with an <code>[Index]</code> attribute.</p><p>Typed POCO Data Models can be used to define more complex Local and Global DynamoDB Indexes by implementing <code>IGlobalIndex&lt;Poco&gt;</code> or <code>ILocalIndex&lt;Poco&gt;</code> interfaces which PocoDynamo uses along with the POCOs class structure to construct Table indexes at the same time it creates the tables.</p><p>In this way the Type is used as a DSL to define DynamoDB indexes where the definition of the index is decoupled from the imperative code required to create and query it, reducing the effort to create them whilst improving the visualization and understanding of your DynamoDB architecture which can be inferred at a glance from the POCO&#39;s Type definition. PocoDynamo also includes first-class support for constructing and querying Global and Local Indexes using a familiar, typed LINQ provider.</p><h4 id="resilient" tabindex="-1">Resilient <a class="header-anchor" href="#resilient" aria-hidden="true">#</a></h4><p>Each operation is called within a managed execution which transparently absorbs the variance in cloud services reliability with automatic retries of temporary errors, using an exponential backoff as recommended by Amazon.</p><h4 id="enhances-existing-apis" tabindex="-1">Enhances existing APIs <a class="header-anchor" href="#enhances-existing-apis" aria-hidden="true">#</a></h4><p>PocoDynamo API&#39;s are a lightweight layer modeled after DynamoDB API&#39;s making it predictable the DynamoDB operations each API calls under the hood, retaining your existing knowledge investment in DynamoDB. When more flexibility is needed you can access the low-level <code>AmazonDynamoDBclient from the </code>IPocoDynamo.DynamoDb` property and talk with it directly.</p><p>Whilst PocoDynamo doesn&#39;t save you for needing to learn DynamoDB, its deep integration with .NET and rich support for POCO&#39;s smoothes out the impedance mismatches to enable an type-safe, idiomatic, productive development experience.</p><h4 id="high-level-features" tabindex="-1">High-level features <a class="header-anchor" href="#high-level-features" aria-hidden="true">#</a></h4><p>PocoDynamo includes its own high-level features to improve the re-usability of your POCO models and the development experience of working with DynamoDB with support for Auto Incrementing sequences, Query expression builders, auto escaping and converting of Reserved Words to placeholder values, configurable converters, scoped client configurations, related items, conventions, aliases, dep-free data annotation attributes and more.</p><h2 id="download" tabindex="-1">Download <a class="header-anchor" href="#download" aria-hidden="true">#</a></h2><p>PocoDynamo is contained in ServiceStack&#39;s AWS NuGet package:</p><div class="nuget-copy cp flex cursor-pointer mb-3" onclick="copy(this)"><div class="flex-grow bg-gray-700"><div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>&lt;PackageReference Include=&quot;ServiceStack.Aws&quot; Version=&quot;6.*&quot; /&gt;</code></p></div></div><div class="flex"><div class="bg-sky-500 text-white p-1.5 pb-0"><svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><svg class="nocopy w-6 h-6" title="copy" fill="none" stroke="white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"></path></svg></div></div></div><blockquote><p>PocoDynamo has a 10 Tables <a href="https://servicestack.net/download#free-quotas" target="_blank" rel="noopener noreferrer">free-quota usage</a> limit which can be unlocked with a <a href="https://servicestack.net/pricing" target="_blank" rel="noopener noreferrer">commercial license key</a>.</p></blockquote><p>To get started we&#39;ll need to create an instance of <code>AmazonDynamoDBClient</code> with your AWS credentials and Region info:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> awsDb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBClient</span><span class="token punctuation">(</span>AWS_ACCESS_KEY<span class="token punctuation">,</span> AWS_SECRET_KEY<span class="token punctuation">,</span> RegionEndpoint<span class="token punctuation">.</span>USEast1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Then to create a PocoDynamo client pass the configured AmazonDynamoDBClient instance above:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Clients are Thread-Safe so you can register them as a singleton and share the same instance throughout your App</p></div><h3 id="source-code" tabindex="-1"><a href="https://github.com/ServiceStack/ServiceStack.Aws/tree/master/src/ServiceStack.Aws/DynamoDb" target="_blank" rel="noopener noreferrer">Source Code</a> <a class="header-anchor" href="#source-code" aria-hidden="true">#</a></h3><p>The Source Code for PocoDynamo is maintained in <a href="https://github.com/ServiceStack/ServiceStack.Aws/" target="_blank" rel="noopener noreferrer">ServiceStack.Aws</a> repository.</p><h3 id="download-local-dynamodb" tabindex="-1">Download Local DynamoDB <a class="header-anchor" href="#download-local-dynamodb" aria-hidden="true">#</a></h3><p>It&#39;s recommended to download <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.DynamoDBLocal.html#Tools.DynamoDBLocal.DownloadingAndRunning" target="_blank" rel="noopener noreferrer">local DynamoDB</a> as it lets you develop against a local DynamoDB instance, saving you needing a network connection or AWS account.</p><p>You can connect to your local DynamoDB instance by configuring the <code>AmazonDynamoDBClient</code> to point to the default url where Local DynamoDB instance is running:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> awsDb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBClient</span><span class="token punctuation">(</span><span class="token string">&quot;keyId&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBConfig</span> <span class="token punctuation">{</span>
    ServiceURL <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8000&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>We&#39;ve found the latest version of Local DynamoDB to be a robust and fast substitute for AWS, that eliminates waiting times for things like creating and dropping tables whilst only slightly deviating from the capabilities of AWS where it doesn&#39;t always include the additional limitations imposed when hosted on AWS.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-hidden="true">#</a></h2><p>To illustrate how PocoDynamo simplifies working with DynamoDB, we&#39;ll walk-through creating and retrieving the Simple <a href="https://github.com/ServiceStackApps/AwsApps/blob/04dea6472fd73ea2e55f1aa748fff6e8784b339c/src/AwsApps/todo/TodoService.cs#L9" target="_blank" rel="noopener noreferrer">Todo model</a> used in the DynamoDB-powered AWS Todo Example and compare it against the code required when using AWSSDK&#39;s <code>IAmazonDynamoDB</code> client directly.</p><p>The simple <code>Todo</code> POCO is the same data model used to store TODO&#39;s in every major RDBMS&#39;s with <a href="/ormlite/">OrmLite</a>, in Redis with <a href="/redis/">ServiceStack.Redis</a> as well as every supported <a href="/caching">Caching provider</a>.</p><p>PocoDynamo increases the re-use of <code>Todo</code> again which can now be used to store TODO&#39;s in DynamoDB as well:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Todo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Content <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Order <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> Done <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="creating-a-table-with-pocodynamo" tabindex="-1">Creating a Table with PocoDynamo <a class="header-anchor" href="#creating-a-table-with-pocodynamo" aria-hidden="true">#</a></h3><p>PocoDynamo enables a declarative code-first approach where it&#39;s able to create DynamoDB Table schemas from just your POCO class definition. Whilst you could call <code>db.CreateTable&lt;Todo&gt;()</code> API and create the Table directly, the recommended approach is instead to register all the tables your App uses with PocoDynamo on Startup, then just call <code>InitSchema()</code> which will go through and create all missing tables:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
<span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">InitSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">GetTableNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this way your App ends up in the same state with all tables created if it was started with <strong>no tables</strong>, <strong>all tables</strong> or only a <strong>partial list</strong> of tables. After the tables are created we query DynamoDB to dump its entire list of Tables, which if you started with an empty DynamoDB instance would print the single <strong>Todo</strong> table name to the Console:</p><div class="language-js"><pre><code><span class="token punctuation">[</span>
    Todo
<span class="token punctuation">]</span>
</code></pre></div><h3 id="complete-pocodynamo-todo-example" tabindex="-1">Complete PocoDynamo TODO example <a class="header-anchor" href="#complete-pocodynamo-todo-example" aria-hidden="true">#</a></h3><p>Before going through the details of how it all works under-the-hood, here&#39;s a quick overview of what it looks likes to use PocoDynamo for developing a simple CRUD App. The ServiceStack <a href="https://github.com/ServiceStackApps/AwsApps/blob/master/src/AwsApps/todo/TodoService.cs" target="_blank" rel="noopener noreferrer">TodoService</a> below contains the full server implementation required to implement the REST API to power <a href="http://todomvc.com/examples/backbone/" target="_blank" rel="noopener noreferrer">Backbone&#39;s famous TODO App</a>, rewritten to store all TODO items in DynamoDB:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TodoService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IPocoDynamo</span> Dynamo <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">Todo</span> todo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>todo<span class="token punctuation">.</span>Id <span class="token operator">!=</span> <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">long</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> Dynamo<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>todo<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> Dynamo<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">Todo</span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">Todo</span> todo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Dynamo<span class="token punctuation">.</span><span class="token function">PutItem</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> todo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">Todo</span> <span class="token function">Put</span><span class="token punctuation">(</span><span class="token class-name">Todo</span> todo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">Post</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Delete</span><span class="token punctuation">(</span><span class="token class-name">Todo</span> todo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Dynamo<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeleteItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>todo<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We can see <code>IPocoDynamo</code> is just a normal IOC dependency that provides high-level API&#39;s that work directly with POCO&#39;s and built-in .NET data types, enabling the minimum effort to store, get and delete data from DynamoDB.</p><h3 id="creating-a-dynamodb-table-using-amazondynamodbclient" tabindex="-1">Creating a DynamoDB Table using AmazonDynamoDBClient <a class="header-anchor" href="#creating-a-dynamodb-table-using-amazondynamodbclient" aria-hidden="true">#</a></h3><p>The equivalent imperative code to create the Todo DynamoDB table above would require creating executing the <code>CreateTableRequest</code> below:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CreateTableRequest</span>
<span class="token punctuation">{</span>
    TableName <span class="token operator">=</span> <span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
    KeySchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>KeySchemaElement<span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">KeySchemaElement</span><span class="token punctuation">(</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> KeyType<span class="token punctuation">.</span>HASH<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    AttributeDefinitions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>AttributeDefinition<span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> ScalarAttributeType<span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ProvisionedThroughput <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ProvisionedThroughput</span>
    <span class="token punctuation">{</span>
        ReadCapacityUnits <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
        WriteCapacityUnits <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
awsDb<span class="token punctuation">.</span><span class="token function">CreateTable</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>DynamoDB Tables take a little while to create in AWS so we can&#39;t use it immediately, instead you&#39;ll need to periodically poll to check the status for when it&#39;s ready:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> startAt <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> timeout <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
<span class="token punctuation">{</span>
    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> descResponse <span class="token operator">=</span> awsDb<span class="token punctuation">.</span><span class="token function">DescribeTable</span><span class="token punctuation">(</span><span class="token string">&quot;Todo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>descResponse<span class="token punctuation">.</span>Table<span class="token punctuation">.</span>TableStatus <span class="token operator">==</span> DynamoStatus<span class="token punctuation">.</span>Active<span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>

        Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ResourceNotFoundException</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// DescribeTable is eventually consistent. So you might get resource not found.</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>UtcNow <span class="token operator">-</span> startAt <span class="token operator">&gt;</span> timeout<span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TimeoutException</span><span class="token punctuation">(</span><span class="token string">&quot;Exceeded timeout of {0}&quot;</span><span class="token punctuation">.</span><span class="token function">Fmt</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Once the table is Active we can start using it, to get the list of table names we send a <code>ListTablesRequest</code>:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> listResponse <span class="token operator">=</span> awsDb<span class="token punctuation">.</span><span class="token function">ListTables</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ListTablesRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> tableNames <span class="token operator">=</span> listResponse<span class="token punctuation">.</span>TableNames<span class="token punctuation">;</span>
tableNames<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="managed-dynamodb-client" tabindex="-1">Managed DynamoDB Client <a class="header-anchor" href="#managed-dynamodb-client" aria-hidden="true">#</a></h2><p>As we can see using the <code>AmazonDynamoDBClient</code> directly requires a lot more imperative code, but it also ends up doing a lot less. We&#39;ve not included the logic to query existing tables so only the missing tables are created, we&#39;ve not implemented any error handling or Retry logic (important for Cloud Services) and we&#39;re not checking to make sure we&#39;ve collected the entire list of results (implementing paging when necessary).</p><p>Whereas every request in PocoDynamo is invoked inside a managed execution where any temporary errors are retried using the <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ErrorHandling.html#APIRetries" target="_blank" rel="noopener noreferrer">AWS recommended retries exponential backoff</a>.</p><p>All PocoDynamo API&#39;s returning <code>IEnumerable&lt;T&gt;</code> returns a lazy evaluated stream which behind-the-scenes sends multiple paged requests as needed whilst the sequence is being iterated. As LINQ API&#39;s are also lazily evaluated you could use <code>Take()</code> to only download the exact number results you need. So you can query the first 100 table names with:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
<span class="token class-name"><span class="token keyword">var</span></span> first100TableNames <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">GetTableNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Take</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>and PocoDynamo will only make the minimum number of requests required to fetch the first 100 results.</p><h2 id="autoincrement-primary-keys" tabindex="-1">AutoIncrement Primary Keys <a class="header-anchor" href="#autoincrement-primary-keys" aria-hidden="true">#</a></h2><p>Once the <code>Todo</code> table is created we can start adding TODOs to it. If we were using OrmLite. the <code>[AutoIncrement]</code> attribute lets us use the RDBMS&#39;s native support for auto incrementing sequences to populate the Id primary key. Unfortunately DynamoDB lacks an auto increment feature and instead recommends the user to supply a unique key as shown in their <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html" target="_blank" rel="noopener noreferrer">DynamoDB Forum example</a> where they&#39;ve chosen a Forum Name as the Hash Key of the Forum and Thread tables, whilst the Reply comment uses a concatenation of <code>ForumName</code> + <code>#</code> + <code>ThreadSubject</code> as its Hash Key and the <code>ReplyDateTime</code> for the Range Key.</p><p>However auto incrementing Ids have a number of useful properties making it ideal for identifying data:</p><ul><li><strong>Unique</strong> - Each new item is guaranteed to have a unique Id that&#39;s higher than all Ids before it</li><li><strong>Sequential</strong> - A useful property to ensure consistent results when paging or ordering</li><li><strong>Never change</strong> - To ensure a constant key that never changes, Ids shouldn&#39;t contain data it references</li><li><strong>Easy to read</strong> - Humans have a better chance to read and remember a number than a concatenated string</li><li><strong>Easy to reference</strong> - It&#39;s easier to reference a predictable numeric field than a concatenated string</li></ul><p>They&#39;re also more re-usable as most data stores have native support for integer primary keys. For these reasons we&#39;ve added support for Auto-Incrementing integer primary keys in PocoDynamo where Ids annotated with <code>[AutoIncrement]</code> attribute are automatically populated with the next id in its sequence.</p><h4 id="isequencesource" tabindex="-1">ISequenceSource <a class="header-anchor" href="#isequencesource" aria-hidden="true">#</a></h4><p>The Auto Incrementing functionality is provided by the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ISequenceSource.cs" target="_blank" rel="noopener noreferrer">ISequenceSource</a> interface:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ISequenceSource</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequiresSchema</span></span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token function">Increment</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Reset</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> key<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> startingAt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="dynamodbsequencegenerator" tabindex="-1">DynamoDbSequenceGenerator <a class="header-anchor" href="#dynamodbsequencegenerator" aria-hidden="true">#</a></h4><p>The default implementation uses <a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/DynamoDbSequenceGenerator.cs" target="_blank" rel="noopener noreferrer">DynamoDbSequenceGenerator</a> which stores sequences for each table in the <code>Seq</code> DynamoDB Table so no additional services are required. To ensure unique incrementing sequences in DynamoDB, PocoDynamo uses UpdateItemRequest&#39;s <code>AttributeValueUpdate</code> feature to perform atomic value updates. PocoDynamo sequences are also very efficient and only require a single DynamoDB call to populate a batch of Primary Key Ids which are also guaranteed to be in order (and without gaps) for batches that are stored together.</p><h4 id="redissequencesource" tabindex="-1">RedisSequenceSource <a class="header-anchor" href="#redissequencesource" aria-hidden="true">#</a></h4><p>If preferred you can instead instruct PocoDynamo to maintain sequences in Redis using <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/RedisSequenceSource.cs" target="_blank" rel="noopener noreferrer">RedisSequenceSource</a> or alternatively inject your own implementation which can be configured in PocoDynamo with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Sequences <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisSequenceSource</span><span class="token punctuation">(</span>redisManager<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="putting-items-with-pocodynamo" tabindex="-1">Putting items with PocoDynamo <a class="header-anchor" href="#putting-items-with-pocodynamo" aria-hidden="true">#</a></h2><p>As we can take advantage of Auto Incrementing Id&#39;s, storing Items becomes as simple as creating a number of POCO&#39;s and calling PutItems:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
<span class="token class-name"><span class="token keyword">var</span></span> todos <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">.</span><span class="token function">Times</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Todo</span> <span class="token punctuation">{</span> Content <span class="token operator">=</span> <span class="token string">&quot;TODO &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">,</span> Order <span class="token operator">=</span> i <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">PutItems</span><span class="token punctuation">(</span>todos<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="putting-items-with-amazondynamodbclient" tabindex="-1">Putting items with AmazonDynamoDBClient <a class="header-anchor" href="#putting-items-with-amazondynamodbclient" aria-hidden="true">#</a></h2><p>To do this manually with <code>AmazonDynamoDBClient</code> you&#39;d need to create and <code>UpdateItemRequest</code> to update the counter maintaining your TODO sequences:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> incrRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UpdateItemRequest</span>
<span class="token punctuation">{</span>
    TableName <span class="token operator">=</span> <span class="token string">&quot;Seq&quot;</span><span class="token punctuation">,</span>
    Key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> AttributeValue<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> S <span class="token operator">=</span> <span class="token string">&quot;Todo&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    AttributeUpdates <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> AttributeValueUpdate<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;Counter&quot;</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValueUpdate</span> <span class="token punctuation">{</span>
                Action <span class="token operator">=</span> AttributeAction<span class="token punctuation">.</span>ADD<span class="token punctuation">,</span>
                Value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> N <span class="token operator">=</span> <span class="token string">&quot;100&quot;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ReturnValues <span class="token operator">=</span> ReturnValue<span class="token punctuation">.</span>ALL_NEW<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> awsDb<span class="token punctuation">.</span><span class="token function">UpdateItem</span><span class="token punctuation">(</span>incrRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> nextSequences <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt64</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>Attributes<span class="token punctuation">[</span><span class="token string">&quot;Counter&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>After you know which sequence to start with you can start putting items using a Dictionary of Attribute Values:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> putRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PutItemRequest</span><span class="token punctuation">(</span><span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> AttributeValue<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
            <span class="token punctuation">{</span> <span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> N <span class="token operator">=</span> <span class="token punctuation">(</span>nextSequences <span class="token operator">-</span> <span class="token number">100</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token string">&quot;Content&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;TODO &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token string">&quot;Order&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> N <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token string">&quot;Done&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> BOOL <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    awsDb<span class="token punctuation">.</span><span class="token function">PutItem</span><span class="token punctuation">(</span>putRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Although even without the managed execution this still isn&#39;t equivalent to PocoDynamo&#39;s example above as to store multiple items efficiently PocoDynamo <code>PutItems()</code> API batches multiple Items in 4x <code>BatchWriteItemRequest</code> behind-the-scenes, the minimum number needed due to DynamoDB&#39;s maximum Write Batch size limit of 25 requests.</p><h2 id="getting-items-with-pocodynamo" tabindex="-1">Getting Items with PocoDynamo <a class="header-anchor" href="#getting-items-with-pocodynamo" aria-hidden="true">#</a></h2><p>Getting an item just requires the Generic Type and the primary key of the item to fetch:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> todo <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
todo<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which returns the Todo item if it exists, or <code>null</code> if it doesn&#39;t.</p><p>Fetching all table items is where an understanding of DynamoDB&#39;s architecture and its limits become important. DynamoDB achieves its scalability by partitioning your data across multiple partitions based on its hash Key (aka Primary Key). This means that the only way to efficiently query across data containing multiple primary keys is to either explicitly create a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html" target="_blank" rel="noopener noreferrer">Global Secondary Index</a> or perform a full-table Scan.</p><p>However table scans in DynamoDB are more inefficient than full table scans in RDBMS&#39;s since it has to scan across multiple partitions which can quickly use up your table&#39;s provisioned throughput, as such scans should be limited to low usage areas.</p><p>With that said, you can do Table Scans in PocoDynamo using API&#39;s starting with <code>Scan*</code> prefix, e.g. to return all Todo items:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
<span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span> todos <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ScanAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As IEnumerable&#39;s are lazily executed, it only starts sending <code>ScanRequest</code> to fetch all Items once the IEnumerable is iterated, which it does in <strong>batches of 1000</strong> (configurable with <code>PocoDynamo.PagingLimit</code>).</p><p>To fetch all items you can just call <code>ToList()</code>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> allTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
allTodos<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which incidentally is also just what <code>db.GetAll&lt;Todo&gt;()</code> does.</p><h2 id="getting-items-with-awssdk" tabindex="-1">Getting Items with AWSSDK <a class="header-anchor" href="#getting-items-with-awssdk" aria-hidden="true">#</a></h2><p>To fetch the same single item with the AWSSDK client you&#39;d construct and send a <code>GetItemRequest</code>, e.g:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GetItemRequest</span>
<span class="token punctuation">{</span>
    TableName <span class="token operator">=</span> <span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
    Key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> AttributeValue<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> N <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ConsistentRead <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> awsDb<span class="token punctuation">.</span><span class="token function">GetItem</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> todo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Todo</span>
<span class="token punctuation">{</span>
    Id <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt64</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>Item<span class="token punctuation">[</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Content <span class="token operator">=</span> response<span class="token punctuation">.</span>Item<span class="token punctuation">[</span><span class="token string">&quot;Content&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>S<span class="token punctuation">,</span>
    Order <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>Item<span class="token punctuation">[</span><span class="token string">&quot;Order&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Done <span class="token operator">=</span> response<span class="token punctuation">.</span>Item<span class="token punctuation">[</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>BOOL<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Although this is a little fragile as it doesn&#39;t handle the case when attributes (aka Properties) or the item doesn&#39;t exist.</p><p>Doing a full-table scan is pretty straight-forward although as you&#39;re scanning the entire table you&#39;ll want to implement the paging to scan through all items, which looks like:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ScanRequest</span>
<span class="token punctuation">{</span>
    TableName <span class="token operator">=</span> <span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
    Limit <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> allTodos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ScanResponse</span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        request<span class="token punctuation">.</span>ExclusiveStartKey <span class="token operator">=</span> response<span class="token punctuation">.</span>LastEvaluatedKey<span class="token punctuation">;</span>

    response <span class="token operator">=</span> awsDb<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> response<span class="token punctuation">.</span>Items<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> todo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Todo</span>
        <span class="token punctuation">{</span>
            Id <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt64</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>
            Content <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;Content&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>S<span class="token punctuation">,</span>
            Order <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">&quot;Order&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">,</span>
            Done <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>BOOL<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        allTodos<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>LastEvaluatedKey <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>LastEvaluatedKey<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

allTodos<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="deleting-an-item-with-pocodynamo" tabindex="-1">Deleting an Item with PocoDynamo <a class="header-anchor" href="#deleting-an-item-with-pocodynamo" aria-hidden="true">#</a></h2><p>Deleting an item is similar to getting an item which just needs the generic type and primary key:</p><div class="language-csharp"><pre><code><span class="token comment">//PocoDynamo</span>
db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeleteItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="deleting-an-item-with-awssdk" tabindex="-1">Deleting an Item with AWSSDK <a class="header-anchor" href="#deleting-an-item-with-awssdk" aria-hidden="true">#</a></h2><p>Which just sends a <code>DeleteItemRequest</code> to delete the Item:</p><div class="language-csharp"><pre><code><span class="token comment">//AWSSDK</span>
<span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DeleteItemRequest</span>
<span class="token punctuation">{</span>
    TableName <span class="token operator">=</span> <span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
    Key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> AttributeValue<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;Id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AttributeValue</span> <span class="token punctuation">{</span> N <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

awsDb<span class="token punctuation">.</span><span class="token function">DeleteItem</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="updating-an-item-with-pocodynamo" tabindex="-1">Updating an Item with PocoDynamo <a class="header-anchor" href="#updating-an-item-with-pocodynamo" aria-hidden="true">#</a></h2><p>The simplest usage is to pass in a partially populated POCO where any Hash or Range Keys are added to the Key Condition and any non-default values are replaced. E.g the query below updates the Customer&#39;s Age to <strong>42</strong>:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token function">UpdateItemNonDefaults</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> customer<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> Age <span class="token operator">=</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>DynamoDB&#39;s UpdateItem supports 3 different operation types:</p><ul><li><code>PUT</code> to replace an Attribute Value</li><li><code>ADD</code> to add to an existing Attribute Value</li><li><code>DELETE</code> to delete the specified Attributes</li></ul><p>Examples of all 3 are contained in the examples below which changes the Customer&#39;s <code>Nationality</code> to <strong>Australian</strong>, reduces their <code>Age</code> by <strong>1</strong> and deletes their <code>Name</code> and <code>Orders</code>:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token function">UpdateItem</span><span class="token punctuation">(</span>customer<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> 
    <span class="token named-parameter punctuation">put</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span> <span class="token punctuation">{</span>
        Nationality <span class="token operator">=</span> <span class="token string">&quot;Australian&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">add</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span> <span class="token punctuation">{</span>
        Age <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">delete</span><span class="token punctuation">:</span> x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> x<span class="token punctuation">.</span>Orders <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The same Typed API above is also available in the more flexible and untyped form below:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UpdateItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">DynamoUpdateItem</span>
<span class="token punctuation">{</span>
    Hash <span class="token operator">=</span> customer<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
    Put <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;Nationality&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Australian&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Add <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;Age&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Delete <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Orders&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="update-with-conditional-expressions" tabindex="-1">Update with Conditional Expressions <a class="header-anchor" href="#update-with-conditional-expressions" aria-hidden="true">#</a></h3><p>PocoDynamo also has Typed API support for <a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_PutItem.html#API_PutItem_RequestSyntax" target="_blank" rel="noopener noreferrer">DynamoDB Conitional Expressions</a> by using the <code>Condition()</code> API, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UpdateExpression</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>customer<span class="token punctuation">.</span>Id<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span> <span class="token punctuation">{</span> Nationality <span class="token operator">=</span> <span class="token string">&quot;Australian&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span> <span class="token punctuation">{</span> Age <span class="token operator">=</span> decrBy <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> x<span class="token punctuation">.</span>Orders <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Condition</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Age <span class="token operator">==</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> succeeded <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">UpdateItem</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="querying" tabindex="-1">Querying <a class="header-anchor" href="#querying" aria-hidden="true">#</a></h2><p>The simple Todo example should give you a feel for using PocoDynamo to handle basic CRUD operations. Another area where PocoDynamo adds a lot of value which can be fairly cumbersome to do without, is in creating <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html" target="_blank" rel="noopener noreferrer">Query and Scan</a> requests to query data in DynamoDB Tables.</p><h3 id="queryexpressions-are-queryrequests" tabindex="-1">QueryExpressions are QueryRequests <a class="header-anchor" href="#queryexpressions-are-queryrequests" aria-hidden="true">#</a></h3><p>The query functionality in PocoDynamo is available on the <code>QueryExpression&lt;T&gt;</code> class which is used as a typed query builder to construct your Query request. An important attribute about QueryExpression&#39;s are that they inherit AWSSDK&#39;s <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LowLevelDotNetQuerying.html" target="_blank" rel="noopener noreferrer">QueryRequest</a> Request DTO.</p><p>This provides a number of benefits, they&#39;re easy to use and highly introspectable since each API just populates different fields in the Request DTO. They&#39;re also highly reusable as QueryExpressions can be executed as-is in AWSSDK DynamoDB client and vice-versa with PocoDynamo&#39;s <code>Query</code> API&#39;s executing both <code>QueryExpression&lt;T&gt;</code> and <code>QueryRequest</code> DTOs. The difference with PocoDynamo&#39;s Query API is that they provide managed exeuction, lazy evaluation, paged queries and auto-conversion of dynamic results into typed POCOs.</p><h3 id="query-usage" tabindex="-1">Query Usage <a class="header-anchor" href="#query-usage" aria-hidden="true">#</a></h3><p><a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html" target="_blank" rel="noopener noreferrer">DynamoDB Query&#39;s</a> enable efficient querying of data in DynamoDB as it&#39;s limited to querying the indexed Hash and Range Keys on your Tables or Table Indexes. Although it has the major limitation that it always needs to specify a Hash condition, essentially forcing the query to be scoped to a single partition. This makes it fairly useless for Tables with only a single Hash Primary Key like <code>Todo</code> as the query condition will always limit to a maximum of 1 result.</p><p>Nevertheless we can still use it to show how to perform server-side queries with PocoDynamo. To create a QueryExpression use the <code>FromQuery*</code> API&#39;s. It accepts a <code>KeyConditionExpression</code> as the first argument given it&#39;s a mandatory requirement for Query Requests which uses it to identify the partition the query should be executed on:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="key-condition-and-filter-expressions" tabindex="-1">Key Condition and Filter Expressions <a class="header-anchor" href="#key-condition-and-filter-expressions" aria-hidden="true">#</a></h4><p>PocoDynamo parses this lambda expression to return a populated <code>QueryExpression&lt;Todo&gt;</code> which you can inspect to find the <code>TableName</code> set to <strong>Todo</strong> and the <code>KeyConditionExpression</code> set to <strong>(Id = :k0)</strong> with the <code>ExpressionAttributeValues</code> Dictionary containing a Numeric value of <strong>1</strong> for the key <strong>:k0</strong>.</p><p>From here you can continue constructing the QueryRequest DTO by populating its properties directly or by calling <code>QueryExpression</code> high-level methods (modeled after the properties they populate), e.g. the <code>KeyCondition()</code> method populates the <code>KeyConditionExpression</code> property, <code>Filter()</code> populates the <code>FilterExpression</code> property and any arguments used in any expression are automatically parameterized and added to the <code>ExpressionAttributeValues</code> collection:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">KeyCondition</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//Equivalent to: db.FromQuery&lt;Todo&gt;(x =&gt; x.Id == 1)</span>
    <span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Done<span class="token punctuation">)</span><span class="token punctuation">;</span>

q<span class="token punctuation">.</span>TableName                 <span class="token comment">// Todo</span>
q<span class="token punctuation">.</span>KeyConditionExpression    <span class="token comment">// (Id = :k0)</span>
q<span class="token punctuation">.</span>FilterExpression          <span class="token comment">// Done = :true</span>
q<span class="token punctuation">.</span>ExpressionAttributeValues <span class="token comment">// :k0 = AttributeValue {N=1}, :true = AttributeValue {BOOL=true}</span>
</code></pre></div><p>Filter expressions are applied after the query is executed which enable more flexible querying as they&#39;re not just limited to key fields and can be used to query any field to further filter the returned resultset.</p><h3 id="executing-queries" tabindex="-1">Executing Queries <a class="header-anchor" href="#executing-queries" aria-hidden="true">#</a></h3><p>After you&#39;ve finished populating the Request DTO it can be executed with PocoDynamo&#39;s <code>Query()</code>. This returns a lazily evaluated resultset which you can use LINQ methods on to fetch the results. Given the primary key condition we know this will only return 0 or 1 rows based on whether or not the TODO has been completed which we can check with by calling LINQ&#39;s <code>FirstOrDefault()</code> method:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> todo1Done <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Where <code>todo1Done</code> will hold the populated <code>Todo</code> if it was marked done, otherwise it will be <code>null</code>.</p><h4 id="expression-chaining" tabindex="-1">Expression Chaining <a class="header-anchor" href="#expression-chaining" aria-hidden="true">#</a></h4><p>Most <code>QueryExpression</code> methods returns itself and an alternative to calling <code>Query</code> on PocoDynamo (or AWSSDK) to execute the Query, you can instead call the <code>Exec()</code> alias. This allows you to create and execute your DynamoDb Query in a single expression which can instead be rewritten as:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> todo1Done <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="scan-operations" tabindex="-1">Scan Operations <a class="header-anchor" href="#scan-operations" aria-hidden="true">#</a></h3><p>Scan Operations work very similar to Query Operations but instead of using a <code>QueryExpression&lt;T&gt;</code> you would instead use a <code>ScanExpression&lt;T&gt;</code> which as it inherits from AWSSDK&#39;s <code>ScanRequest</code> Request DTO, provides the same reuse benefits as QueryExpression&#39;s.</p><p>To create a Scan Request you would use the <code>FromScan&lt;T&gt;</code> API, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>More examples of how to use typed LINQ expressions for creating and executing Query and Scan requests are described later.</p><h3 id="related-items" tabindex="-1">Related Items <a class="header-anchor" href="#related-items" aria-hidden="true">#</a></h3><p>DynamoDB Queries are ideally suited for when the dataset is naturally isolated, e.g. multi-tenant Apps that are centered around Customer data so any related records are able to share the same <code>CustomerId</code> Hash Key.</p><p>PocoDynamo has good support for maintaining related data which can re-use the same Data Annotations used to define POCO relationships in OrmLite, often letting you reuse your existing OrmLite RDBMS data models in DynamoDB as well.</p><p>To illustrate how to use PocoDynamo to maintain related data we&#39;ll walk through a typical Customer and Orders example:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">CustomerAddress</span> PrimaryAddress <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerAddress</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Address <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> State <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Country <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Alias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;CustomerOrder&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Customer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Product <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Qty <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In order to use them we need to tell PocoDynamo which of the Types are Tables that it should create in DynamoDB which we can do by registering them with PocoDynamo then calling <code>InitSchema()</code> which will go through and create any of the tables that don&#39;t yet exist in DynamoDB:</p><div class="language-csharp"><pre><code>db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">InitSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>InitSchema()</code> will also wait until the tables have been created so they&#39;re immediately accessible afterwards. As creating DynamoDB tables can take upwards of a minute in AWS you can use the <a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/IPocoDynamoAsync.cs" target="_blank" rel="noopener noreferrer">alternative Async APIs</a> if you wanted to continue to doing other stuff whilst the tables are being created in AWS, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> task <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">InitSchemaAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// do other stuff...</span>

<span class="token keyword">await</span> task<span class="token punctuation">;</span>
</code></pre></div><h2 id="related-data" tabindex="-1">Related Data <a class="header-anchor" href="#related-data" aria-hidden="true">#</a></h2><p>After the tables are created we can insert the top-level Customer record as normal:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customer</span>
<span class="token punctuation">{</span>
    Name <span class="token operator">=</span> <span class="token string">&quot;Customer&quot;</span><span class="token punctuation">,</span>
    PrimaryAddress <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomerAddress</span>
    <span class="token punctuation">{</span>
        Address <span class="token operator">=</span> <span class="token string">&quot;1 road&quot;</span><span class="token punctuation">,</span>
        State <span class="token operator">=</span> <span class="token string">&quot;NT&quot;</span><span class="token punctuation">,</span>
        Country <span class="token operator">=</span> <span class="token string">&quot;Australia&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">PutItem</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Before adding the record, PocoDynamo also populates any <code>[AutoIncrement]</code> properties with the next number in the sequence for that Type. Any complex types stored on the <code>Customer</code> POCO like <code>CustomerAddress</code> gets persisted along with the containing <code>Customer</code> entry and converted into a <strong>Map</strong> of DynamoDB Attribute Value pairs. We can view the <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ConsoleDynamoDB.html" target="_blank" rel="noopener noreferrer">DynamoDB Web Console</a> to see how this is stored in DynamoDB:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/related-customer.png" alt=""></p><h3 id="related-tables" tabindex="-1">Related Tables <a class="header-anchor" href="#related-tables" aria-hidden="true">#</a></h3><p>You can define a related table using the <code>[References]</code> attribute to tell PocoDynamo what the parent table is, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Alias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;CustomerOrder&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Customer</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>   
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which PocoDynamo infers to create the table using the parent&#39;s <code>CustomerId</code> as its Hash Key, relegating its <code>Id</code> as the Range Key for the table. This ensures the Order is kept in the same partition as all other related Customer Data, necessary in order to efficiently query a Customer&#39;s Orders. When both the Hash and Range Key are defined they&#39;re treated as the Composite Key for that table which needs to be unique for each item - guaranteed when using <code>[AutoIncrement]</code> Id&#39;s.</p><h4 id="inserting-related-data" tabindex="-1">Inserting Related Data <a class="header-anchor" href="#inserting-related-data" aria-hidden="true">#</a></h4><p>After the table is created we can generate and insert random orders like any other table, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">.</span><span class="token function">Times</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Order</span>
<span class="token punctuation">{</span>
    CustomerId <span class="token operator">=</span> customer<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
    Product <span class="token operator">=</span> <span class="token string">&quot;Item &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token string">&quot;A&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Qty <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span>
    Cost <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">PutItems</span><span class="token punctuation">(</span>orders<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also use the alternative <code>PutRelatedItems()</code> API and get PocoDynamo to take care of populating the <code>CustomerId</code>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">.</span><span class="token function">Times</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Order</span>
<span class="token punctuation">{</span>
    Product <span class="token operator">=</span> <span class="token string">&quot;Item &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token string">&quot;A&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Qty <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span>
    Cost <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">PutRelatedItems</span><span class="token punctuation">(</span>customer<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> orders<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Both examples results in the same data being inserted into the <strong>CustomerOrder</strong> DynamoDB table:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/related-customer-orders.png" alt=""></p><p>This also shows how the <code>[Alias]</code> attribute can be used to rename the <code>Order</code> Type as <strong>CustomerOrder</strong> in DynamoDB.</p><h3 id="querying-related-tables" tabindex="-1">Querying Related Tables <a class="header-anchor" href="#querying-related-tables" aria-hidden="true">#</a></h3><p>Now we have related data we can start querying it, something you may want to do is fetch all Customer Orders:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>CustomerId <span class="token operator">==</span> customer<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> dbOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As getting related Items for a Hash Key is a popular query, it has an explicit API:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> dbOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetRelatedItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>customer<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>We can refine the query further by specifying a <code>FilterExpression</code> to limit the results DynamoDB returns:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Using <code>Clone()</code> will create and modify a copy of the query, leaving the original one intact.</p></blockquote><h3 id="local-secondary-indexes" tabindex="-1"><a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html" target="_blank" rel="noopener noreferrer">Local Secondary Indexes</a> <a class="header-anchor" href="#local-secondary-indexes" aria-hidden="true">#</a></h3><p>But filters aren&#39;t performed on an Index and can be inefficient if your table has millions of customer rows. By default only the Hash and Range Key are indexed, in order to efficiently query any other field you will need to create a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html" target="_blank" rel="noopener noreferrer">Local Secondary Index</a> for it.</p><p>This is easily done in PocoDynamo by annotating the properties you want indexed with the <code>[Index]</code> attribute:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span>
<span class="token punctuation">{</span>
    <span class="token comment">//...    </span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which tells PocoDynamo to create a Local Secondary Index for the <code>Cost</code> property when it creates the table.</p><p>When one exists, you can query a Local Index with <code>LocalIndex()</code>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> q
    <span class="token punctuation">.</span><span class="token function">LocalIndex</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</code></pre></div><p>Which now performs the Cost query on an index. Although this only returns a partially populated Order, specifically with just the Hash Key (CustomerId), Range Key (Id) and the field that&#39;s indexed (Cost):</p><div class="language-cs"><pre><code>expensiveOrders<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js"><pre><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">Id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">CustomerId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Qty</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Cost</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
<span class="token punctuation">]</span>
</code></pre></div><p>This is due to <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html" target="_blank" rel="noopener noreferrer">Local Secondary Indexes</a> being just denormalized tables behind the scenes which by default only returns re-projected fields that were defined when the Index was created.</p><p>One way to return populated orders is to specify a custom <code>ProjectionExpression</code> with the fields you want returned. E.g. You can create a request with a populated <code>ProjectionExpression</code> that returns all Order fields with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> q
    <span class="token punctuation">.</span><span class="token function">LocalIndex</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">//Equivalent to: SelectTableFields()</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which now returns:</p><div class="language-cs"><pre><code>expensiveOrders<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js"><pre><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">Id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">CustomerId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Product</span><span class="token operator">:</span> Item <span class="token constant">A</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Qty</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Cost</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="typed-local-indexes" tabindex="-1">Typed Local Indexes <a class="header-anchor" href="#typed-local-indexes" aria-hidden="true">#</a></h3><p>Using a custom <code>ProjectionExpression</code> is an easy work-around, although for it to work DynamoDB needs to consult the primary table to fetch the missing fields for each item. For large tables that are frequently accessed, the query can be made more efficient by projecting the fields you want returned when the Index is created.</p><p>You can can tell PocoDynamo which additional fields it should reproject by creating a <strong>Typed Local Index</strong> which is just a POCO implementing <code>ILocalIndex&lt;T&gt;</code> containing all the fields the index should contain, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderCostLocalIndex</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ILocalIndex<span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Qty <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">OrderCostLocalIndex</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>Then use the <code>[References]</code> attribute to register the Typed Index so PocoDynamo knows which additional indexes needs to be created with the table. The <code>[Index]</code> attribute is used to specify which field is indexed (Range Key) whilst the <code>CustomerId</code> is automatically used the Hash Key for the Local Index Table.</p><h4 id="querying-typed-indexes" tabindex="-1">Querying Typed Indexes <a class="header-anchor" href="#querying-typed-indexes" aria-hidden="true">#</a></h4><p>To query a typed Index, use <code>FromQueryIndex&lt;T&gt;()</code> which returns a populated Query Request with the Table and Index Name. As <code>Cost</code> is now the Range Key of the Local Index table it can be queried together with the <code>CustomerId</code> Hash Key in the Key Condition expression:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>OrderCostLocalIndex<span class="token punctuation">&gt;</span></span> expensiveOrderIndexes <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQueryIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrderCostLocalIndex<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> 
        x<span class="token punctuation">.</span>CustomerId <span class="token operator">==</span> customer<span class="token punctuation">.</span>Id <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This returns a list of populated indexes that now includes the <code>Qty</code> field:</p><div class="language-cs"><pre><code>expensiveOrderIndexes<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js"><pre><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">Cost</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token literal-property property">CustomerId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Qty</span><span class="token operator">:</span> <span class="token number">6</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
<span class="token punctuation">]</span>
</code></pre></div><p>If preferred you can easily convert Typed Index into Orders by using ServiceStack&#39;s <a href="/auto-mapping">built-in Auto-Mapping</a>, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span> expensiveOrders <span class="token operator">=</span> expensiveOrderIndexes
    <span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConvertTo</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="global-secondary-indexes" tabindex="-1"><a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html" target="_blank" rel="noopener noreferrer">Global Secondary Indexes</a> <a class="header-anchor" href="#global-secondary-indexes" aria-hidden="true">#</a></h3><p>The major limitation of Local Indexes is that they&#39;re limited to querying data in the same partition (Hash Key). To efficiently query an index spanning the entire dataset, you need to instead use a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html" target="_blank" rel="noopener noreferrer">Global Secondary Index</a>.</p><p>Support for Global Indexes in PocoDynamo is similar to Typed Local Indexes, but instead implements <code>IGlobalIndex&lt;T&gt;</code>. They also free you to choose a new Hash Key, letting you create an Index spanning all Customers.</p><p>For example we can create a global index that lets us search the cost across all orders containing a particular product:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderCostGlobalIndex</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IGlobalIndex<span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HashKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Product <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Qty <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">OrderCostGlobalIndex</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>Our Key Condition can now instead query Product and Cost fields across all Customer Orders:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveItemAOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQueryIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrderCostGlobalIndex<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> 
        x<span class="token punctuation">.</span>Product <span class="token operator">==</span> <span class="token string">&quot;Item A&quot;</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which will print all <strong>Item A</strong> Orders with a <strong>Cost &gt; 10</strong>:</p><div class="language-cs"><pre><code>expensiveItemAOrders<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js"><pre><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">Product</span><span class="token operator">:</span> Item <span class="token constant">A</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Cost</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token literal-property property">CustomerId</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Qty</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Id</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//...</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="scan-requests" tabindex="-1">Scan Requests <a class="header-anchor" href="#scan-requests" aria-hidden="true">#</a></h2><p>You&#39;ll want to just use queries for any frequently accessed code running in production, although the full querying flexibility available in full table scan requests can be useful for ad hoc querying and to speed up development cycles by initially starting with Scan queries then when the data requirements for your App&#39;s have been finalized, rewrite them to use indexes and queries.</p><p>To create Scan Requests you instead call the <code>FromScan*</code> API&#39;s, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> allOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ScanAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also perform scans on Global Indexes, but unlike queries they don&#39;t need to be limited to the Hash Key:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveOrderIndexes <span class="token operator">=</span> db
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScanIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrderCostGlobalIndex<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <code>QueryExpression&lt;T&gt;</code> the populated <code>ScanExpression&lt;T&gt;</code> inherits from AWSSDK&#39;s <code>ScanRequest</code> enabling the same re-use benefits for <code>ScanRequest</code> as they do for QueryRequest&#39;s.</p><h2 id="query-and-scan-expressions" tabindex="-1">Query and Scan Expressions <a class="header-anchor" href="#query-and-scan-expressions" aria-hidden="true">#</a></h2><p>Both Scans and Query expressions benefit from a Typed LINQ-like expression API which can be used to populate the DTO&#39;s</p><ul><li><strong>KeyConditionExpression</strong> - for specifying conditions on tables Hash and Range keys (only: QueryRequest)</li><li><strong>FilterExpression</strong> - for specifying conditions to filter results on other fields</li><li><strong>ProjectionExpression</strong> - to specify any custom fields (default: all fields)</li></ul><p>Each <code>QueryRequest</code> needs to provide a key condition which can be done when creating the QueryExpression:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>CustomerId <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Alternative explicit API</span>
<span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">KeyCondition</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>CustomerId <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Whilst every condition on a <code>ScanRequest</code> is added to the FilterExpression:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Alternative explicit API</span>
<span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Calling <code>Exec()</code> returns a lazily executed response which transparently sends multiple paged requests to fetch the results as needed, e.g calling LINQ&#39;s <code>.FirstOrDefault()</code> only makes a single request whilst <code>.ToList()</code> fetches the entire resultset. All streaming <code>IEnumerable&lt;T&gt;</code> requests are sent with the configured <code>PagingLimit</code> (default: 1000).</p><h4 id="custom-limits" tabindex="-1">Custom Limits <a class="header-anchor" href="#custom-limits" aria-hidden="true">#</a></h4><p>Several of PocoDynamo API&#39;s have overloads that let you specify a custom limit. API&#39;s with limits are instead executed immediately with the limit specified and returned in a concrete List:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">limit</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="custom-filter-expressions" tabindex="-1">Custom Filter Expressions <a class="header-anchor" href="#custom-filter-expressions" aria-hidden="true">#</a></h3><p>There are also custom overloads that can be used to execute a custom expression when more flexibility is needed:</p><div class="language-csharp"><pre><code><span class="token comment">// Querying by Custom Filter Condition with anon args</span>
<span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;Cost &gt; :amount&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> amount <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Querying by Custom Filter Condition with loose-typed Dictionary</span>
<span class="token class-name"><span class="token keyword">var</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;Cost &gt; :amount&quot;</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">{</span> <span class="token string">&quot;amount&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="custom-select-projections" tabindex="-1">Custom Select Projections <a class="header-anchor" href="#custom-select-projections" aria-hidden="true">#</a></h3><p>By default queries return all fields defined on the POCO model. You can also customize the projected fields that are returned with the <code>Select*</code> and <code>Exec*</code> APIs:</p><div class="language-csharp"><pre><code><span class="token comment">// Return partial fields from anon object</span>
<span class="token class-name"><span class="token keyword">var</span></span> partialOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> x<span class="token punctuation">.</span>CustomerId<span class="token punctuation">,</span> x<span class="token punctuation">.</span>Cost <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Return partial fields from array</span>
<span class="token class-name"><span class="token keyword">var</span></span> partialOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;CustomerId&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cost&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Return partial fields defined in a custom Poco</span>
<span class="token keyword">class</span> <span class="token class-name">CustomerCost</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomerId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Cost <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> custCosts <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CustomerCost<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConvertTo</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CustomerCost<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Alternative shorter version of above</span>
<span class="token class-name"><span class="token keyword">var</span></span> custCosts <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ExecInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CustomerCost<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Useful when querying and index and returing results in primary Order Poco </span>
<span class="token class-name">List<span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span> expensiveOrders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScanIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrderCostGlobalIndex<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Cost <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ExecInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Return a single column of fields</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> orderIds <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecColumn</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="advanced-linq-expressions" tabindex="-1">Advanced LINQ Expressions <a class="header-anchor" href="#advanced-linq-expressions" aria-hidden="true">#</a></h3><p>In addition to basic predicate conditions, DynamoDB also includes support for <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.SpecifyingConditions.html" target="_blank" rel="noopener noreferrer">additional built-in functions</a> which PocoDynamo also provides typed LINQ support for:</p><h4 id="begins-with" tabindex="-1">begins_with <a class="header-anchor" href="#begins-with" aria-hidden="true">#</a></h4><p>Return items where string fields starts with a particular substring:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Product<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Item A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">BeginsWith</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Product<span class="token punctuation">,</span> <span class="token string">&quot;Item A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;begins_with(Product, :s)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> s <span class="token operator">=</span> <span class="token string">&quot;Item A&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="contains" tabindex="-1">contains <a class="header-anchor" href="#contains" aria-hidden="true">#</a></h4><p>Return items where string fields contains a particular substring:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Product<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">&quot;em A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Product<span class="token punctuation">,</span> <span class="token string">&quot;em A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;contains(Product, :s)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> s <span class="token operator">=</span> <span class="token string">&quot;em A&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="in" tabindex="-1">in <a class="header-anchor" href="#in" aria-hidden="true">#</a></h4><p>Returns items where fields exist in a particular collection:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> qtys <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> qtys<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Qty<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">In</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Qty<span class="token punctuation">,</span> qtys<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;Qty in(:q1,:q2)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> q1 <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> q2 <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="size" tabindex="-1">size <a class="header-anchor" href="#size" aria-hidden="true">#</a></h4><p>Returns items where the string length equals a particular size:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Product<span class="token punctuation">.</span>Length <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Product<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;size(Product) = :n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> n <span class="token operator">=</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Size also works for querying the size of different native DynamoDB collections, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntCollections</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> ArrayInts <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> SetInts <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> ListInts <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> DictionaryInts <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IntCollections<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span>
        x<span class="token punctuation">.</span>ArrayInts<span class="token punctuation">.</span>Length <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span>
        x<span class="token punctuation">.</span>SetInts<span class="token punctuation">.</span>Count <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span>
        x<span class="token punctuation">.</span>ListInts<span class="token punctuation">.</span>Count <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span>
        x<span class="token punctuation">.</span>DictionaryInts<span class="token punctuation">.</span>Count <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="between" tabindex="-1">between <a class="header-anchor" href="#between" aria-hidden="true">#</a></h4><p>Returns items where field values fall within a particular range (inclusive):</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">Between</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Qty<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Qty <span class="token operator">&gt;=</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>Qty <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;Qty between :from and :to&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> from <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> to <span class="token operator">=</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="attribute-type" tabindex="-1">attribute_type <a class="header-anchor" href="#attribute-type" aria-hidden="true">#</a></h4><p>Return items where field is of a particular type:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> 
        Dynamo<span class="token punctuation">.</span><span class="token function">AttributeType</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Qty<span class="token punctuation">,</span> DynamoType<span class="token punctuation">.</span>Number<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
        Dynamo<span class="token punctuation">.</span><span class="token function">AttributeType</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Product<span class="token punctuation">,</span> DynamoType<span class="token punctuation">.</span>String<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> orders <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>
        <span class="token string">&quot;attribute_type(Qty, :n) and attribute_type(Product, :s)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> n <span class="token operator">=</span> <span class="token string">&quot;N&quot;</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Valid Types: L (List), M (Map), S (String), SS (StringSet), N (Number), NS (NumberSet), B (Binary), BS, BOOL, NULL</p><h4 id="attribute-exists" tabindex="-1">attribute_exists <a class="header-anchor" href="#attribute-exists" aria-hidden="true">#</a></h4><p>Return items where a particular field exists. As the schema of your data models evolve you can use this to determine whether items are of an old or new schema:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> newOrderTypes <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">AttributeExists</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>NewlyAddedField<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> newOrderTypes <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;attribute_exists(NewlyAddedField)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="attribute-not-exists" tabindex="-1">attribute_not_exists <a class="header-anchor" href="#attribute-not-exists" aria-hidden="true">#</a></h4><p>Return items where a particular field does not exist:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> oldOrderTypes <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> Dynamo<span class="token punctuation">.</span><span class="token function">AttributeNotExists</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>NewlyAddedField<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivalent to</span>
<span class="token class-name"><span class="token keyword">var</span></span> oldOrderTypes <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Order<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span><span class="token string">&quot;attribute_not_exists(NewlyAddedField)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="defaults-and-custom-behavior" tabindex="-1">Defaults and Custom Behavior <a class="header-anchor" href="#defaults-and-custom-behavior" aria-hidden="true">#</a></h3><p>PocoDynamo is configured with the defaults below which it uses throughout its various API&#39;s when used in creating and querying tables:</p><div class="language-csharp"><pre><code><span class="token comment">//Defaults:</span>
<span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span>awsDb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PollTableStatus <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    MaxRetryOnExceptionTimeout <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ReadCapacityUnits <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
    WriteCapacityUnits <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    ConsistentRead <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    ScanIndexForward <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    PagingLimit <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>If you wanted to query with different behavior you can create a clone of the client with the custom settings you want, e.g. you can create a client that performs eventually consistent queries with:</p><div class="language-csharp"><pre><code><span class="token class-name">IPocoDynamo</span> eventuallyConsistentDb <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">ClientWith</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">consistentRead</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="table-definition" tabindex="-1">Table definition <a class="header-anchor" href="#table-definition" aria-hidden="true">#</a></h2><p>To support different coding styles, readability/dependency preferences and levels of data model reuse, PocoDynamo enables a wide array of options for specifying a table&#39;s Hash and Range Keys, in the following order or precedence:</p><p>**Note: Hash and Range keys cannot be read-only calculated properties.</p><h3 id="specifying-a-hash-key" tabindex="-1">Specifying a Hash Key <a class="header-anchor" href="#specifying-a-hash-key" aria-hidden="true">#</a></h3><p>Using the AWSSDK&#39;s <code>[DynamoDBHashKey]</code> attribute:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DynamoDBHashKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This requires your models to have a dependency to the <strong>AWSSDK.DynamoDBv2</strong> NuGet package which can be avoided by using <strong>ServiceStack.Interfaces</strong> <code>[HashKey]</code> attribute instead which your models already likely have a reference to:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HashKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can instead avoid any attributes using the explicit <strong>HashKey</strong> Naming convention:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> HashKey <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>For improved re-usability of your models you can instead use the generic annotations for defining a model&#39;s primary key:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PrimaryKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Alternative using the Universal <code>Id</code> naming convention:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If preferred both Hash and Range Keys can be defined together with the class-level <code>[CompositeKey]</code> attribute:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CompositeKey</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;CustomHash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CustomRange&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomHash <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomRange <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="specifying-a-range-key" tabindex="-1">Specifying a Range Key <a class="header-anchor" href="#specifying-a-range-key" aria-hidden="true">#</a></h3><p>For specifying the Range Key use can use the <strong>AWSSDK.DynamoDBv2</strong> Attribute:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DynamoDBRangeKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <strong>ServiceStack.Interfaces</strong> attribute:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">RangeKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Or without attributes, using the explicit <code>RangeKey</code> property name:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Table</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> RangeKey <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-hidden="true">#</a></h2><h3 id="dynamodbcacheclient" tabindex="-1"><a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/DynamoDbCacheClient.cs" target="_blank" rel="noopener noreferrer">DynamoDbCacheClient</a> <a class="header-anchor" href="#dynamodbcacheclient" aria-hidden="true">#</a></h3><p>We&#39;ve been quick to benefit from the productivity advantages of PocoDynamo ourselves where we&#39;ve used it to rewrite <a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/DynamoDbCacheClient.cs" target="_blank" rel="noopener noreferrer">DynamoDbCacheClient</a> which is now just 2/3 the size and much easier to maintain than the existing <a href="https://github.com/ServiceStack/ServiceStack/blob/22aca105d39997a8ea4c9dc20b242f78e07f36e0/src/ServiceStack.Caching.AwsDynamoDb/DynamoDbCacheClient.cs" target="_blank" rel="noopener noreferrer">Community-contributed version</a> whilst at the same time extending it with even more functionality where it now implements the <code>ICacheClientExtended</code> API.</p><h3 id="dynamodbauthrepository" tabindex="-1"><a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/DynamoDbAuthRepository.cs" target="_blank" rel="noopener noreferrer">DynamoDbAuthRepository</a> <a class="header-anchor" href="#dynamodbauthrepository" aria-hidden="true">#</a></h3><p>PocoDynamo&#39;s code-first Typed API made it much easier to implement value-added DynamoDB functionality like the new <a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/DynamoDbAuthRepository.cs" target="_blank" rel="noopener noreferrer">DynamoDbAuthRepository</a> which due sharing a similar code-first POCO approach to OrmLite, ended up being a straight-forward port of the existing <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Auth/OrmLiteAuthRepository.cs" target="_blank" rel="noopener noreferrer">OrmLiteAuthRepository</a> where it was able to reuse the existing <code>UserAuth</code> and <code>UserAuthDetails</code> data models.</p><h3 id="dynamodbtests" tabindex="-1"><a href="https://github.com/ServiceStack/ServiceStack.Aws/tree/master/tests/ServiceStack.Aws.DynamoDbTests" target="_blank" rel="noopener noreferrer">DynamoDbTests</a> <a class="header-anchor" href="#dynamodbtests" aria-hidden="true">#</a></h3><p>Despite its young age we&#39;ve added a comprehensive test suite behind PocoDynamo which has become our exclusive client for developing DynamoDB-powered Apps.</p><h3 id="aws-apps" tabindex="-1">AWS Apps <a class="header-anchor" href="#aws-apps" aria-hidden="true">#</a></h3><p>The <a href="https://github.com/ServiceStackApps/LiveDemos" target="_blank" rel="noopener noreferrer">Live Demos</a> below were rewritten from their original RDBMS and OrmLite backends to utilize a completely managed AWS Stack that now uses PocoDynamo and a DynamoDB-backend:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/examples-razor-rockstars.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/examples-email-contacts.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/examples-todos.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/aws/pocodynamo/examples-awsauth.png" alt=""></p><h2 id="ipococlient-api" tabindex="-1">IPocoClient API <a class="header-anchor" href="#ipococlient-api" aria-hidden="true">#</a></h2><div class="language-csharp"><pre><code><span class="token comment">// Interface for the code-first PocoDynamo client</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IPocoDynamo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPocoDynamoAsync</span><span class="token punctuation">,</span> <span class="token class-name">IRequiresSchema</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Get the underlying AWS DynamoDB low-level client</span>
    <span class="token return-type class-name">IAmazonDynamoDB</span> DynamoDb <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Get the numeric unique Sequence generator configured with this client</span>
    <span class="token return-type class-name">ISequenceSource</span> Sequences <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Access the converters that converts POCO&#39;s into DynamoDB data types</span>
    <span class="token return-type class-name">DynamoConverters</span> Converters <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// How long should PocoDynamo keep retrying failed operations in an exponential backoff (default 60s)</span>
    <span class="token return-type class-name">TimeSpan</span> MaxRetryOnExceptionTimeout <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Get the AWSSDK DocumentModel schema for this Table</span>
    <span class="token return-type class-name">Table</span> <span class="token function">GetTableSchema</span><span class="token punctuation">(</span><span class="token class-name">Type</span> table<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Get PocoDynamo Table metadata for this table</span>
    <span class="token return-type class-name">DynamoMetadataType</span> <span class="token function">GetTableMetadata</span><span class="token punctuation">(</span><span class="token class-name">Type</span> table<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;ListTables&#39; to return all Table Names in DynamoDB</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetTableNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creates any tables missing in DynamoDB from the Tables registered with PocoDynamo</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CreateMissingTables</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>DynamoMetadataType<span class="token punctuation">&gt;</span></span> tables<span class="token punctuation">,</span> <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creates any tables missing from the specified list of tables</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CreateTables</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>DynamoMetadataType<span class="token punctuation">&gt;</span></span> tables<span class="token punctuation">,</span> <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Deletes all DynamoDB Tables</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">DeleteAllTables</span><span class="token punctuation">(</span><span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Deletes the tables in DynamoDB with the specified table names</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">DeleteTables</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">,</span> <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Gets the POCO instance with the specified hash</span>
    <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Gets the POCO instance with the specified hash and range value</span>
    <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> range<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;BatchGetItem&#39; in the min number of batch requests to return POCOs with the specified hashes </span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> hashes<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;PutItem&#39; to store instance in DynamoDB</span>
    <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">PutItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">T</span> <span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">bool</span></span> returnOld <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;BatchWriteItem&#39; to efficiently store items in min number of batched requests</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">PutItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> items<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Deletes the instance at the specified hash</span>
    <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">DeleteItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name">ReturnItem</span> returnItem <span class="token operator">=</span> ReturnItem<span class="token punctuation">.</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;BatchWriteItem&#39; to efficiently delete all items with the specified hashes</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> hashes<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;BatchWriteItem&#39; to efficiently delete all items with the specified hash and range pairs</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>DynamoId<span class="token punctuation">&gt;</span></span> hashes<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;UpdateItem&#39; with ADD AttributeUpdate to atomically increment specific field numeric value</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">Increment</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> fieldName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Polls &#39;DescribeTable&#39; until all Tables have an ACTIVE TableStatus</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">WaitForTablesToBeReady</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">,</span> <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Polls &#39;ListTables&#39; until all specified tables have been deleted</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">WaitForTablesToBeDeleted</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">,</span> <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Updates item Hash field with hash value then calls &#39;PutItem&#39; to store the related instance</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">PutRelatedItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name">T</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Updates all item Hash fields with hash value then calls &#39;PutItems&#39; to store all related instances</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">PutRelatedItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> items<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calls &#39;Query&#39; to return all related Items containing the specified hash value</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetRelatedItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Deletes all items with the specified hash and ranges</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteRelatedItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> hash<span class="token punctuation">,</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> ranges<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// Calls &#39;Scan&#39; to return lazy enumerated results that&#39;s transparently paged across multiple queries</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">ScanAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creates a Typed `ScanExpression` for the specified table</span>
    <span class="token return-type class-name">ScanExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">FromScan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> filterExpression <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creates a Typed `ScanExpression` for the specified Global Index</span>
    <span class="token return-type class-name">ScanExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">FromScanIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> filterExpression <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes the `ScanExpression` returning the specified maximum limit of results</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Scan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes the `ScanExpression` returning lazy results transparently paged across multiple queries</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Scan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `ScanRequest` returning the specified maximum limit of results</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Scan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanRequest</span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `ScanRequest` returning lazy results transparently paged across multiple queries</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Scan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `ScanRequest` with a custom conversion function to map ScanResponse to results</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Scan</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span>ScanResponse<span class="token punctuation">,</span> IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> converter<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// Return Live ItemCount using Table ScanRequest</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">ScanItemCount</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Return cached ItemCount in summary DescribeTable</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">DescribeItemCount</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// Creates a Typed `QueryExpression` for the specified table</span>
    <span class="token return-type class-name">QueryExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">FromQuery</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> keyExpression <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes the `QueryExpression` returning lazy results transparently paged across multiple queries</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes the `QueryExpression` returning the specified maximum limit of results</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creates a Typed `QueryExpression` for the specified Local or Global Index</span>
    <span class="token return-type class-name">QueryExpression<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">FromQueryIndex</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> keyExpression <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `QueryRequest` returning the specified maximum limit of results</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryRequest</span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `QueryRequest` returning lazy results transparently paged across multiple queries</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Executes AWSSDK `QueryRequest` with a custom conversion function to map QueryResponse to results</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span>QueryResponse<span class="token punctuation">,</span> IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> converter<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// Create a clone of the PocoDynamo client with different default settings</span>
    <span class="token return-type class-name">IPocoDynamo</span> <span class="token function">ClientWith</span><span class="token punctuation">(</span>
        <span class="token class-name"><span class="token keyword">bool</span><span class="token punctuation">?</span></span> consistentRead <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword">long</span><span class="token punctuation">?</span></span> readCapacityUnits <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword">long</span><span class="token punctuation">?</span></span> writeCapacityUnits <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> pollTableStatus <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> maxRetryOnExceptionTimeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> limit <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword">bool</span><span class="token punctuation">?</span></span> scanIndexForward <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Disposes the underlying IAmazonDynamoDB client</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Available API&#39;s with Async equivalents</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IPocoDynamoAsync</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">Task</span> <span class="token function">CreateMissingTablesAsync</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>DynamoMetadataType<span class="token punctuation">&gt;</span></span> tables<span class="token punctuation">,</span> 
        <span class="token class-name">CancellationToken</span> token <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name">CancellationToken</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">Task</span> <span class="token function">WaitForTablesToBeReadyAsync</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">,</span> 
        <span class="token class-name">CancellationToken</span> token <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token type-expression class-name">CancellationToken</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">Task</span> <span class="token function">InitSchemaAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pocodynamo-extension-helpers" tabindex="-1">PocoDynamo Extension helpers <a class="header-anchor" href="#pocodynamo-extension-helpers" aria-hidden="true">#</a></h3><p>To maintain a minimumal surface area for PocoDynamo, many additional API&#39;s used to provide a more DRY typed API&#39;s were moved into <a href="https://github.com/ServiceStack/ServiceStack.Aws/blob/master/src/ServiceStack.Aws/DynamoDb/PocoDynamoExtensions.cs" target="_blank" rel="noopener noreferrer">PocoDynamoExtensions</a></p><div class="language-csharp"><pre><code><span class="token keyword">class</span> <span class="token class-name">PocoDynamoExtensions</span>
<span class="token punctuation">{</span>
    <span class="token comment">//Register Table</span>
    <span class="token return-type class-name">DynamoMetadataType</span> <span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">DynamoMetadataType</span> <span class="token function">RegisterTable</span><span class="token punctuation">(</span><span class="token class-name">Type</span> tableType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RegisterTables</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Type<span class="token punctuation">&gt;</span></span> tableTypes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddValueConverter</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">,</span> <span class="token class-name">IAttributeValueConverter</span> valueConverter<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Get Table Metadata</span>
    <span class="token return-type class-name">Table</span> <span class="token generic-method"><span class="token function">GetTableSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">DynamoMetadataType</span> <span class="token generic-method"><span class="token function">GetTableMetadata</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Create Table</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token generic-method"><span class="token function">CreateTableIfMissing</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CreateTableIfMissing</span><span class="token punctuation">(</span><span class="token class-name">DynamoMetadataType</span> table<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token generic-method"><span class="token function">CreateTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token generic-method"><span class="token function">DeleteTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">TimeSpan<span class="token punctuation">?</span></span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Decrement API&#39;s</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">DecrementById</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> id<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> fieldName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">IncrementById</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> id<span class="token punctuation">,</span> <span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> fieldExpr<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">long</span></span> <span class="token generic-method"><span class="token function">DecrementById</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> id<span class="token punctuation">,</span> <span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> fieldExpr<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> amount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetAll</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetItem</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">DynamoId</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Typed API overloads for popular hash object ids</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">long</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">GetItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">long</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token generic-method"><span class="token function">DeleteItems</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Scan Helpers</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">ScanInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanExpression</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">ScanInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ScanExpression</span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Query Helpers</span>
    <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">QueryInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryExpression</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">QueryInto</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">QueryExpression</span> request<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/ServiceStack/docs/edit/master/docs/aws-pocodynamo.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/aws" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Overview</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/aws-getting-started" data-v-38ede35f><span class="text" data-v-38ede35f>Getting Started with AWS</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"access-http-specific-features-in-services.md\":\"001eb727\",\"add-servicestack-reference.md\":\"61c45ee7\",\"adhoc-utils.md\":\"145d5925\",\"admin-ui-database.md\":\"2d379a4c\",\"admin-ui-features.md\":\"a93d93a0\",\"admin-ui-profiling.md\":\"1bd4cd6b\",\"admin-ui-redis.md\":\"e30c2d77\",\"admin-ui-users.md\":\"c4df627a\",\"admin-ui-validation.md\":\"6a19ae80\",\"admin-ui.md\":\"f26284c4\",\"advanced-deployment-octopus-deploy.md\":\"58dc3ed8\",\"advantages-of-message-based-web-services.md\":\"12fb1b91\",\"amazon-sqs-mq.md\":\"a7850ff9\",\"api-design.md\":\"29ae5dba\",\"api-explorer.md\":\"9001c7c5\",\"api-first-development.md\":\"180e4902\",\"api-key-authprovider.md\":\"584a2f45\",\"app-tasks.md\":\"c379d016\",\"appsettings.md\":\"26ce8fed\",\"architecture-overview.md\":\"f0785d54\",\"artists.md\":\"9e862449\",\"auth-anti-forgery.md\":\"7affb339\",\"auth-openid.md\":\"3b64a368\",\"auth-repository.md\":\"178fd68a\",\"auth-restricting-services.md\":\"410cb62e\",\"auth-signin-with-apple.md\":\"66bf1656\",\"auth.md\":\"2c195b11\",\"authentication-and-authorization.md\":\"5bcb2ced\",\"authentication-identity-aspnet.md\":\"91029b46\",\"authentication-identity-servicestack.md\":\"94452722\",\"authentication-identityserver.md\":\"f3695b36\",\"auto-batched-requests.md\":\"3af7712f\",\"auto-mapping.md\":\"2bc4f91a\",\"autoquery-audit-log.md\":\"fed1549f\",\"autoquery-autogen.md\":\"fe45b999\",\"autoquery-crud-bookings.md\":\"b798ad40\",\"autoquery-crud.md\":\"6126e40f\",\"autoquery-data.md\":\"d470bf85\",\"autoquery-dynamodb.md\":\"a8b72a44\",\"autoquery-memory.md\":\"e2e48ef8\",\"autoquery-rdbms.md\":\"b921e685\",\"autoquery-service.md\":\"21305471\",\"autoquery.md\":\"56d6c3ad\",\"aws-getting-started.md\":\"11e978f6\",\"aws-pocodynamo.md\":\"e6db1859\",\"aws.md\":\"faec2050\",\"azure-service-bus-mq.md\":\"76c2bbbe\",\"azure.md\":\"64d89abf\",\"background-mq.md\":\"85a1f7c4\",\"benchmarks.md\":\"7f20463e\",\"blazor-diffusion.md\":\"e4582a69\",\"blazor-litestream.md\":\"9bb58b01\",\"built-in-profiling.md\":\"8972e711\",\"bundling-and-minification.md\":\"4860ccf8\",\"cache-aware-clients.md\":\"e871260a\",\"cacheresponse-attribute.md\":\"a76b8301\",\"caching.md\":\"d5f95c31\",\"cancellable-requests.md\":\"b9ef18fe\",\"clients-overview.md\":\"085bd1b2\",\"code-contribution-guide.md\":\"9d43ea5a\",\"community-resources.md\":\"54a051b9\",\"compiled-razor-views.md\":\"2bb606c1\",\"compression.md\":\"8a61934e\",\"concurrency-model.md\":\"8d6a8a3c\",\"config-api.md\":\"c955014d\",\"contributing.md\":\"6f935e55\",\"contributors.md\":\"1b300ec5\",\"corsfeature.md\":\"ee694f74\",\"create-webservice-from-scratch.md\":\"035dc15b\",\"create-your-first-webservice.md\":\"c1d33af5\",\"csharp-add-servicestack-reference.md\":\"7b3271ee\",\"csharp-client.md\":\"79f33bff\",\"csharp-server-events-client.md\":\"431639ba\",\"csv-format.md\":\"cd606040\",\"customize-http-responses.md\":\"2c0aa477\",\"customize-json-responses.md\":\"c9a77c74\",\"dart-add-servicestack-reference.md\":\"a2808364\",\"dart-client.md\":\"56db343b\",\"debugging.md\":\"be36b679\",\"declarative-validation.md\":\"770eea23\",\"deploy-multiple-sites-to-aws.md\":\"57324f8c\",\"deploy-netcore-docker-aws-ecs.md\":\"e5982227\",\"deploy-netcore-to-amazon-linux-2-ami.md\":\"4f8801e9\",\"design-message-based-apis.md\":\"2ddc8dd8\",\"design-rest-services.md\":\"f546f324\",\"do-github-action-mix-deployment.md\":\"878aebfa\",\"dotnet-new.md\":\"56d06bd7\",\"dotnet-tool.md\":\"7cc1f8fc\",\"dump-utils.md\":\"dca82b56\",\"encrypted-messaging.md\":\"8ef1556c\",\"endpoints.md\":\"be6c38dd\",\"error-handling.md\":\"0a3b1d27\",\"explore-servicestack.md\":\"7712623d\",\"filter-attributes.md\":\"0d2ac49e\",\"form-hijacking-prevention.md\":\"961cc4cb\",\"formats.md\":\"995e8d80\",\"fsharp-add-servicestack-reference.md\":\"3a5c74af\",\"fsharp.md\":\"acd20ec3\",\"github-action-templates.md\":\"2c1c6109\",\"grpc-android.md\":\"a5f11c74\",\"grpc-csharp.md\":\"e52b5fdd\",\"grpc-dart.md\":\"390b3934\",\"grpc-flutter.md\":\"b80016cc\",\"grpc-generic.md\":\"296b6a87\",\"grpc-go.md\":\"08fb6d99\",\"grpc-java.md\":\"1a3186b2\",\"grpc-nodejs.md\":\"b9e83c2d\",\"grpc-php.md\":\"c9628b03\",\"grpc-python.md\":\"03546b03\",\"grpc-ruby.md\":\"adc17481\",\"grpc-ssl.md\":\"aff248c7\",\"grpc-swift.md\":\"0f24e2e3\",\"grpc.md\":\"18170784\",\"host-configuration.md\":\"4d2aa053\",\"hot-reloading.md\":\"10baf03f\",\"how-to-contribute.md\":\"b2664bf8\",\"howto-write-unit-integration-tests.md\":\"f920b4a3\",\"html-css-and-javascript-minification.md\":\"93c7d5b4\",\"html5reportformat.md\":\"0d847a31\",\"http-caching.md\":\"3a6906b6\",\"http-utils.md\":\"3fe7cbb2\",\"iis.md\":\"ec4ffee9\",\"index.md\":\"2e008bf3\",\"install-rabbitmq-windows.md\":\"adb98176\",\"install-redis-windows.md\":\"e5fd8e53\",\"ioc.md\":\"9ecf1873\",\"jamstack-with-vitepress-servicestack.md\":\"b8c3bdd3\",\"jamstacks-net.md\":\"22f123bc\",\"java-add-servicestack-reference.md\":\"60d5d09b\",\"java-server-events-client.md\":\"a643c73b\",\"java.md\":\"0263559a\",\"javascript-add-servicestack-reference.md\":\"5b2d04ed\",\"javascript-client.md\":\"fea25bcc\",\"javascript-server-events-client.md\":\"4e2f262e\",\"js-utils.md\":\"ac01c2a9\",\"json-format.md\":\"32cdf504\",\"json-jsv-and-xml.md\":\"c4524c46\",\"jsv-format.md\":\"58988692\",\"jupyter-notebooks-csharp.md\":\"35bfb891\",\"jupyter-notebooks-fsharp.md\":\"1de9af2b\",\"jupyter-notebooks-python.md\":\"28a396e1\",\"jupyter-notebooks-reporting.md\":\"e29ef36f\",\"jupyter-notebooks.md\":\"6ad85cbe\",\"jwt-authprovider.md\":\"e098ea53\",\"kotlin-add-servicestack-reference.md\":\"e90582f4\",\"learning-servicestack.md\":\"0a1a9734\",\"linux-hosting-options.md\":\"979a7008\",\"lisp-tcp-repl-server.md\":\"b123dddc\",\"litestream-templates.md\":\"3c7d6a6d\",\"locode_advanced.md\":\"13a83a39\",\"locode_auditing.md\":\"145f20f6\",\"locode_branding.md\":\"f805b65c\",\"locode_code-first.md\":\"8e98e0d0\",\"locode_custom-components.md\":\"08bffda5\",\"locode_custom-forms.md\":\"0a821520\",\"locode_custom.md\":\"0a392da6\",\"locode_database-first.md\":\"8858f309\",\"locode_declarative.md\":\"ec092a57\",\"locode_files-blazor.md\":\"3ac29f78\",\"locode_files-upload-aws.md\":\"5c0001ee\",\"locode_files-upload-azure.md\":\"68b2a70d\",\"locode_files-upload-filesystem.md\":\"e1884f9c\",\"locode_files.md\":\"30296679\",\"locode_formatters.md\":\"906dec1c\",\"locode_index.md\":\"768bb64b\",\"locode_input.md\":\"1d0107a0\",\"locode_programmatic.md\":\"dd00b77a\",\"locode_relations.md\":\"0ec5bc74\",\"logging.md\":\"6cb02d2a\",\"markdown-razor.md\":\"c7daf12d\",\"messagepack-format.md\":\"a2c6c15b\",\"messaging.md\":\"ad56535c\",\"metadata-page.md\":\"2a63e4f6\",\"mix-github-actions-aws-ecs.md\":\"62d5b07a\",\"mix-tool.md\":\"7a8df8be\",\"modular-startup-legacy.md\":\"04c11782\",\"modular-startup.md\":\"c1dedcdc\",\"modularizing-services.md\":\"a652f769\",\"mono-repo.md\":\"b746ae99\",\"mono.md\":\"6f2c3c5f\",\"multitenancy.md\":\"e099e9bb\",\"mvc-integration.md\":\"8eac6d65\",\"myget.md\":\"8ea7bdeb\",\"navigation.md\":\"21fd0e58\",\"netcore-deploy-rsync.md\":\"5f88664a\",\"netcore-localhost-cert.md\":\"7b5dcdb2\",\"netcore-razor.md\":\"b8252dfb\",\"netcore-redis.md\":\"495d6546\",\"netcore-windows-desktop.md\":\"1a11c894\",\"netcore.md\":\"559ff6e4\",\"nhibernate.md\":\"ed08a71c\",\"npm-new.md\":\"a63102ca\",\"nuget.md\":\"f78228e3\",\"openapi.md\":\"fb501f4c\",\"order-of-operations.md\":\"8bf474e2\",\"ormlite.md\":\"24be6741\",\"ormlite_apis_delete.md\":\"5efcc87d\",\"ormlite_apis_insert.md\":\"a742b04e\",\"ormlite_apis_schema.md\":\"05bd6295\",\"ormlite_apis_select.md\":\"7a395693\",\"ormlite_apis_update.md\":\"88189e9e\",\"ormlite_async-apis.md\":\"e9233f4a\",\"ormlite_autogen-t4.md\":\"da68e227\",\"ormlite_aws-rds-databases.md\":\"737bec90\",\"ormlite_complex-type-serializers.md\":\"0213e2a7\",\"ormlite_custom-sql-features.md\":\"2583e798\",\"ormlite_custom-sql.md\":\"68a4a715\",\"ormlite_customer-orders-example.md\":\"63202236\",\"ormlite_db-migrations.md\":\"88d0fcad\",\"ormlite_dictionary-apis.md\":\"8fac96cf\",\"ormlite_dynamic-result-sets.md\":\"b68aadfe\",\"ormlite_ensure-apis.md\":\"2f758acb\",\"ormlite_filters.md\":\"ccc211d4\",\"ormlite_getting-started.md\":\"f7a84074\",\"ormlite_index.md\":\"2ae10d77\",\"ormlite_installation.md\":\"d1a08d64\",\"ormlite_introspection.md\":\"fea2acfe\",\"ormlite_limitations.md\":\"c622dced\",\"ormlite_litestream.md\":\"396c22c0\",\"ormlite_multi-database-connections.md\":\"0259ea46\",\"ormlite_optimistic-concurrency.md\":\"a0640ac9\",\"ormlite_ormlite-apis.md\":\"038b6dc6\",\"ormlite_ormlite-utils.md\":\"91c398bf\",\"ormlite_postgres-features.md\":\"50a1feca\",\"ormlite_reference-support.md\":\"3b651d98\",\"ormlite_shippers-example.md\":\"a0d4fb0d\",\"ormlite_sql-server-features.md\":\"44d2a75f\",\"ormlite_stored-procedures.md\":\"1a5d17d9\",\"ormlite_type-converters.md\":\"283b4626\",\"ormlite_typed-joins.md\":\"69ba1c84\",\"ormlite_untyped-apis.md\":\"c26f9f1e\",\"oss.md\":\"ec37cc46\",\"physical-project-structure.md\":\"faafcdd1\",\"plugins.md\":\"3dbe9603\",\"post-command.md\":\"7833d4e8\",\"postman.md\":\"c5d9b5ee\",\"prerequisites.md\":\"5d0fbc57\",\"protobuf-format.md\":\"573a0e73\",\"proxy-feature.md\":\"0cf03b0e\",\"python-add-servicestack-reference.md\":\"ea5704b1\",\"rabbit-mq.md\":\"6f387b44\",\"razor-notes.md\":\"6dc6b6fc\",\"razor-ui-controls.md\":\"16b5dd04\",\"razor-views-vs-content-pages.md\":\"f2a1f27d\",\"real-world-performance.md\":\"29bb2e57\",\"redis-mq.md\":\"dc260f2e\",\"redis-server-events.md\":\"04b87783\",\"redis.md\":\"e542a76b\",\"redis_async.md\":\"cf983a54\",\"redis_automatic-retries.md\":\"16e931e6\",\"redis_client-managers.md\":\"6c7b2fae\",\"redis_client-usage.md\":\"a7797cf1\",\"redis_client.md\":\"5ab993f2\",\"redis_custom-commands.md\":\"f7fbe9bd\",\"redis_design-nosql.md\":\"61cda138\",\"redis_distributed-locking.md\":\"9dac6e06\",\"redis_index.md\":\"b686b202\",\"redis_lua.md\":\"4c1b8894\",\"redis_profiling.md\":\"c6b055c7\",\"redis_pubsub.md\":\"41605dba\",\"redis_redis-desktop.md\":\"c91f2cdd\",\"redis_schemaless-migration.md\":\"88b7e2c5\",\"redis_sentinel.md\":\"3288d5af\",\"redis_stats.md\":\"a6ef673f\",\"redis_transactions.md\":\"3754f61c\",\"redis_troubleshooting.md\":\"40eaab4c\",\"redis_typed-client.md\":\"0cfc5863\",\"redis_typed-transactions.md\":\"fa933848\",\"reflection-utils.md\":\"b3fb48b4\",\"register.md\":\"e1bf14e3\",\"release-notes-history.md\":\"adef3ea0\",\"release-notes-v3.md\":\"cdc97237\",\"release-notes.md\":\"a840076e\",\"releases_2016-summary.md\":\"7d3d1754\",\"releases_index.md\":\"aeb33d55\",\"releases_v4_0_0.md\":\"b7e0a744\",\"releases_v4_0_06.md\":\"ffa2cede\",\"releases_v4_0_08.md\":\"f67a8b36\",\"releases_v4_0_09.md\":\"e323b9f2\",\"releases_v4_0_10.md\":\"b2509e88\",\"releases_v4_0_11.md\":\"84c48450\",\"releases_v4_0_12.md\":\"78185205\",\"releases_v4_0_15.md\":\"99bebc54\",\"releases_v4_0_18.md\":\"a7939d7d\",\"releases_v4_0_19.md\":\"d639b683\",\"releases_v4_0_21.md\":\"ac661a55\",\"releases_v4_0_22.md\":\"c638d924\",\"releases_v4_0_23.md\":\"d52500ca\",\"releases_v4_0_24.md\":\"1a68df4c\",\"releases_v4_0_30.md\":\"f03eac85\",\"releases_v4_0_31.md\":\"cb4216dd\",\"releases_v4_0_32.md\":\"3f5eec96\",\"releases_v4_0_33.md\":\"1d94cc8c\",\"releases_v4_0_34.md\":\"02e123d9\",\"releases_v4_0_35.md\":\"74cdf41f\",\"releases_v4_0_36.md\":\"267bdae2\",\"releases_v4_0_38.md\":\"c12f1cba\",\"releases_v4_0_40.md\":\"ba2906fa\",\"releases_v4_0_42.md\":\"35b053a3\",\"releases_v4_0_44.md\":\"20bc5e99\",\"releases_v4_0_46.md\":\"91ea3230\",\"releases_v4_0_48.md\":\"065243c8\",\"releases_v4_0_50.md\":\"a79199d9\",\"releases_v4_0_52.md\":\"85a6b539\",\"releases_v4_0_54.md\":\"8c7a669d\",\"releases_v4_0_56.md\":\"2133aa37\",\"releases_v4_0_58.md\":\"26abfbbc\",\"releases_v4_0_60.md\":\"820b5dd0\",\"releases_v4_0_62.md\":\"ae7a0dbf\",\"releases_v4_5_0.md\":\"c7fe61a9\",\"releases_v4_5_10.md\":\"11c8b20f\",\"releases_v4_5_12.md\":\"19c8c868\",\"releases_v4_5_14.md\":\"201dfe6e\",\"releases_v4_5_2.md\":\"9798b143\",\"releases_v4_5_4.md\":\"04f639ea\",\"releases_v4_5_6.md\":\"fa5d5cb9\",\"releases_v4_5_8.md\":\"e3414a9b\",\"releases_v5_0_0.md\":\"4e8acb40\",\"releases_v5_10.md\":\"3b1a9fb6\",\"releases_v5_11.md\":\"f4b0d332\",\"releases_v5_12.md\":\"b5a8c181\",\"releases_v5_13.md\":\"124ed2f7\",\"releases_v5_1_0.md\":\"e1e6ef0e\",\"releases_v5_2.md\":\"2ebbf108\",\"releases_v5_4.md\":\"3b93cc8d\",\"releases_v5_5.md\":\"f862080f\",\"releases_v5_6.md\":\"76d3cf24\",\"releases_v5_7.md\":\"bce699a2\",\"releases_v5_8.md\":\"5485f086\",\"releases_v5_9.md\":\"130d5177\",\"releases_v6.md\":\"72ca2a9d\",\"releases_v6_1.md\":\"5b3b3ab8\",\"releases_v6_2.md\":\"7968933b\",\"releases_v6_3.md\":\"be8d5e05\",\"releases_v6_4.md\":\"7a33e65e\",\"releases_v6_5.md\":\"62a8dd86\",\"releases_v6_6.md\":\"0430e002\",\"request-and-response-filters.md\":\"445bb93b\",\"request-logger.md\":\"8bb6823f\",\"roadmap.md\":\"cfe0d806\",\"routing.md\":\"d2549f7b\",\"search-test.md\":\"dceeefa7\",\"self-hosting.md\":\"7606d92e\",\"serialization-deserialization.md\":\"dfc65deb\",\"server-events-grpc.md\":\"32205960\",\"server-events.md\":\"c2a47914\",\"server-ui-controls.md\":\"1dd689bd\",\"service-complexity-and-dto-roles.md\":\"7a0a0a3f\",\"service-discovery.md\":\"71c10fbe\",\"service-gateway.md\":\"ff997997\",\"service-return-types.md\":\"8e6d226e\",\"servicestack-as-daemon-on-linux.md\":\"a1f59732\",\"servicestack-client-umd.md\":\"b890a7fa\",\"servicestack-handler-resolution.md\":\"3f3ce944\",\"servicestack-in-fastcgi-hosted-on-nginx.md\":\"02d3d9c4\",\"servicestack-integration.md\":\"13bfcf4b\",\"servicestack-side-by-side-with-another-web-framework.md\":\"b2d39142\",\"servicify.md\":\"74a14ed2\",\"sessions.md\":\"59a3e1c4\",\"silverlight-client.md\":\"120493fc\",\"simple-deployments-to-aws.md\":\"ba64a32a\",\"simple-ioc.md\":\"b2cf21f0\",\"sitemaps.md\":\"6a845618\",\"soap-support.md\":\"c5178abe\",\"ss-utils-js.md\":\"f7d9dc8a\",\"ssl-redis-azure.md\":\"ba0a5793\",\"starlibs.md\":\"617181ab\",\"stripe.md\":\"f5b1ae8b\",\"studio-autoquery.md\":\"32aa4e7d\",\"studio-users.md\":\"35cc5623\",\"studio-validation-rules.md\":\"812ef615\",\"studio.md\":\"8796f467\",\"svg.md\":\"c3153d40\",\"swagger-api.md\":\"79f8d93b\",\"swift-add-servicestack-reference.md\":\"65dbb885\",\"swift.md\":\"30187849\",\"templates-angular.md\":\"1bf6294c\",\"templates-angularjs-v15.md\":\"02d3b889\",\"templates-aspnet-empty.md\":\"acd533ff\",\"templates-aws.md\":\"776f2b1f\",\"templates-blazor-components.md\":\"33cb5a35\",\"templates-blazor-server.md\":\"1e2226df\",\"templates-blazor-tailwind.md\":\"436d1d1c\",\"templates-blazor.md\":\"a58497ef\",\"templates-corefx.md\":\"cee26f0b\",\"templates-desktop.md\":\"4aabe0ca\",\"templates-dotnet-scripts.md\":\"225d4767\",\"templates-empty.md\":\"2c3035ea\",\"templates-install-servicestackvs.md\":\"407566e8\",\"templates-jamstack.md\":\"5f44c053\",\"templates-lite.md\":\"abe1d059\",\"templates-mvc.md\":\"2c19cc7a\",\"templates-nextjs.md\":\"7017a50f\",\"templates-nuxt.md\":\"648f24cb\",\"templates-overview.md\":\"c83bb77a\",\"templates-react.md\":\"443405d4\",\"templates-single-page-apps.md\":\"c477adfc\",\"templates-spa-components.md\":\"1d90d40e\",\"templates-svelte.md\":\"2f22f0ae\",\"templates-vue.md\":\"89e37c9e\",\"templates-vuetify.md\":\"5f055cdd\",\"templates-webpack.md\":\"e9217ac0\",\"templates-websites.md\":\"eda01c3f\",\"templates-windows-service.md\":\"8b2b664a\",\"testing.md\":\"64d13056\",\"text.md\":\"1a62ce18\",\"text_index.md\":\"b734a809\",\"typescript-add-servicestack-reference.md\":\"d3b49533\",\"typescript-server-events-client.md\":\"d2a5608c\",\"validation.md\":\"a1a657f9\",\"vbnet-add-servicestack-reference.md\":\"ba8f1a88\",\"vbnet.md\":\"ff05a28b\",\"versioning.md\":\"6e3980ed\",\"view-and-template-selection.md\":\"c2291514\",\"virtual-file-system.md\":\"323c1e72\",\"vue-components.md\":\"3fa2ecaa\",\"vue_gallery_alerts.md\":\"bd818228\",\"vue_gallery_autoform-new.md\":\"27e4c567\",\"vue_gallery_autoform.md\":\"5c9d2119\",\"vue_gallery_autoquerygrid.md\":\"0df9310a\",\"vue_gallery_datagrid.md\":\"a7ff137b\",\"vue_gallery_form-inputs.md\":\"387c352a\",\"vue_gallery_formats.md\":\"6f312dde\",\"vue_gallery_index.md\":\"3ec5f208\",\"vue_gallery_modals.md\":\"5196a84b\",\"vue_gallery_navigation.md\":\"83851de1\",\"vue_index.md\":\"7362df09\",\"vue_use-auth.md\":\"b277d14c\",\"vue_use-client.md\":\"8d0ff48c\",\"vue_use-config.md\":\"4ac2486c\",\"vue_use-files.md\":\"7a3d63e3\",\"vue_use-formatters.md\":\"c87e9582\",\"vue_use-metadata.md\":\"82f55d6a\",\"vue_use-utils.md\":\"7e5dda53\",\"web-apply.md\":\"44de7d0a\",\"web-new.md\":\"bcabb810\",\"web-services.md\":\"0b8e2b7a\",\"web-tool.md\":\"23033e24\",\"web-trouble.md\":\"9aa158c2\",\"webhooks.md\":\"f89b7746\",\"what-is-a-message-based-web-service.md\":\"c16cfc15\",\"why-not-odata.md\":\"064e4ed4\",\"why-not-razor.md\":\"477cd54a\",\"why-remote-services-use-dtos.md\":\"76aaff42\",\"why-servicestack.md\":\"ab5fca02\",\"wire-format.md\":\"1cc704bc\",\"world-validation.md\":\"04b38914\",\"your-first-webservice-explained.md\":\"b39d963c\",\"ztest.md\":\"8b502b24\"}")</script>
    <script type="module" async src="/assets/app.6d7ef002.js"></script>
    
  </body>
</html>